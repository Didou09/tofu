<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. tofu.geom &mdash; tofu v1.1</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="tofu v1.1" href="index.html" />
    <link rel="next" title="2. tofu.treat" href="Auto_tofu.treat.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Auto_tofu.treat.html" title="2. tofu.treat"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tofu v1.1</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-tofu.geom">
<span id="tofu-geom"></span><span id="overview"></span><h1>1. <strong>tofu.geom</strong><a class="headerlink" href="#module-tofu.geom" title="Permalink to this headline">¶</a></h1>
<p>Load all core packages and modules which are all machine-independent, diagnostic-independent and code-independent</p>
<dl class="class">
<dt id="tofu.geom.Ves">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">Ves</code><span class="sig-paren">(</span><em>Id</em>, <em>Poly</em>, <em>Type='Tor'</em>, <em>DLong=None</em>, <em>Sino_RefPt=None</em>, <em>Sino_NP=50</em>, <em>Clock=False</em>, <em>arrayorder='C'</em>, <em>Exp=None</em>, <em>shot=None</em>, <em>dtime=None</em>, <em>dtimeIn=False</em>, <em>SavePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves" title="Permalink to this definition">¶</a></dt>
<dd><p>A class defining a Linear or Toroidal vaccum vessel (i.e. a 2D polygon representing a cross-section and assumed to be linearly or toroidally invariant)</p>
<p>A Ves object is mostly defined by a close 2D polygon, which can be understood as a poloidal cross-section in (R,Z) cylindrical coordinates if Type=&#8217;Tor&#8217; (toroidal shape) or as a straight cross-section through a cylinder in (Y,Z) cartesian coordinates if Type=&#8217;Lin&#8217; (linear shape).
Attributes such as the surface, the angular volume (if Type=&#8217;Tor&#8217;) or the center of mass are automatically computed.
The instance is identified thanks to an attribute Id (which is itself a tofu.ID class object) which contains informations on the specific instance (name, Type...).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Id</strong> (<em>str / tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>Poly</strong> (<em>np.ndarray</em>) &#8211; An array (2,N) or (N,2) defining the contour of the vacuum vessel in a cross-section, if not closed, will be closed automatically</li>
<li><strong>Type</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the vessel will be a torus (&#8216;Tor&#8217;) or a linear device (&#8216;Lin&#8217;)</li>
<li><strong>DLong</strong> (<em>list / np.ndarray</em>) &#8211; Array or list of len=2 indicating the limits of the linear device volume on the x axis</li>
<li><strong>Sino_RefPt</strong> (<em>None / np.ndarray</em>) &#8211; Array specifying a reference point for computing the sinogram (i.e. impact parameter), if None automatically set to the (surfacic) center of mass of the cross-section</li>
<li><strong>Sino_NP</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points in [0,2*pi] to be used to plot the vessel sinogram envelop</li>
<li><strong>Clock</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the input polygon should be made clockwise (True) or counter-clockwise (False)</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;)</li>
<li><strong>Exp</strong> (<em>None / str</em>) &#8211; Flag indicating which experiment the object corresponds to, allowed values are in [None,&#8217;AUG&#8217;,&#8217;MISTRAL&#8217;,&#8217;JET&#8217;,&#8217;ITER&#8217;,&#8217;TCV&#8217;,&#8217;TS&#8217;,&#8217;Misc&#8217;]</li>
<li><strong>shot</strong> (<em>None / int</em>) &#8211; Shot number from which this Ves is usable (in case of change of geometry)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>dtime</strong> (<em>None / dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly)</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Ves</strong> (<em>Ves object</em>) &#8211; The created Ves object, with all necessary computed attributes and methods</p>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tofu.geom.Ves.BaryS">
<code class="descname">BaryS</code><a class="headerlink" href="#tofu.geom.Ves.BaryS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (surfacic) center of mass of the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.BaryV">
<code class="descname">BaryV</code><a class="headerlink" href="#tofu.geom.Ves.BaryV" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (volumic) center of mass of the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Id">
<code class="descname">Id</code><a class="headerlink" href="#tofu.geom.Ves.Id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tfpf.ID object of the vessel</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Poly">
<code class="descname">Poly</code><a class="headerlink" href="#tofu.geom.Ves.Poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Sino_NP">
<code class="descname">Sino_NP</code><a class="headerlink" href="#tofu.geom.Ves.Sino_NP" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of points used used for plotting the Ves polygon in projection space</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Sino_RefPt">
<code class="descname">Sino_RefPt</code><a class="headerlink" href="#tofu.geom.Ves.Sino_RefPt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 2D coordinates of the points used as a reference for computing the Ves polygon in projection space (where sinograms are plotted)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Surf">
<code class="descname">Surf</code><a class="headerlink" href="#tofu.geom.Ves.Surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the area of the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Type">
<code class="descname">Type</code><a class="headerlink" href="#tofu.geom.Ves.Type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of vessel</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Vect">
<code class="descname">Vect</code><a class="headerlink" href="#tofu.geom.Ves.Vect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the polygon elementary vectors</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.Vin">
<code class="descname">Vin</code><a class="headerlink" href="#tofu.geom.Ves.Vin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the normalized vectors pointing inwards for each segment of the polygon</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.VolLin">
<code class="descname">VolLin</code><a class="headerlink" href="#tofu.geom.Ves.VolLin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angular volume of the polygon defining the vessel cross-section of Tor type</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Ves.arrayorder">
<code class="descname">arrayorder</code><a class="headerlink" href="#tofu.geom.Ves.arrayorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the flag indicating which order is used for multi-dimensional array attributes</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Ves.get_InsideConvexPoly">
<code class="descname">get_InsideConvexPoly</code><span class="sig-paren">(</span><em>RelOff=0.05, ZLim='Def', Spline=True, Splprms=[100.0, 2.0, 3], NP=100, Plot=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves.get_InsideConvexPoly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves.get_InsideConvexPoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a polygon that is a smaller and smoothed approximation of Ves.Poly, useful for excluding the divertor region in a Tokamak</p>
<p>For some uses, it can be practical to approximate the polygon defining the Ves object (which can be non-convex, like with a divertor), by a simpler, sligthly smaller and convex polygon.
This method provides a fast solution for computing such a proxy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>RelOff</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Fraction by which an homothetic polygon should be reduced (1.-RelOff)*(Poly-BaryS)</li>
<li><strong>ZLim</strong> (<em>None / str / tuple</em>) &#8211; Flag indicating what limits shall be put to the height of the polygon (used for excluding divertor)</li>
<li><strong>Spline</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indiating whether the reduced and truncated polygon shall be smoothed by 2D b-spline curves</li>
<li><strong>Splprms</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of 3 parameters to be used for the smoothing [weights,smoothness,b-spline order], fed to scipy.interpolate.splprep()</li>
<li><strong>NP</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points to be used to define the smoothed polygon</li>
<li><strong>Plot</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the result shall be plotted for visual inspection</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Poly</strong> (<em>np.ndarray</em>) &#8211; (2,N) polygon resulting from homothetic transform, truncating and optional smoothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Ves.get_MeshCrossSection">
<code class="descname">get_MeshCrossSection</code><span class="sig-paren">(</span><em>CrossMesh=[0.01, 0.01], CrossMeshMode='abs', Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves.get_MeshCrossSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves.get_MeshCrossSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a (2,N) array of 2D points coordinates meshing the Ves cross-section using the spacing specified by CrossMesh for each direction (taken as absolute distance or relative to the total size)</p>
<p>Method used for fast automatic meshing of the cross-section using a rectangular mesh uniform in each direction.
Returns the flattened points coordinates array, as well as the two increasing vectors and number of points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>CrossMesh</strong> (<em>iterable</em>) &#8211; Iterable of len()==2 specifying the distance to be used between points in each direction (R or Y and Z), in absolute value or relative to the total size of the Ves in each direction</li>
<li><strong>CrossMeshMode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether the distances provided in CrossMesh are absolute (&#8216;abs&#8217;) or relative (&#8216;rel&#8217;)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>Pts</strong> (<em>np.ndarray</em>) &#8211; Array of shape (2,N), comtaining the 2D coordinates of the N points consituting the mesh, only points lying inside the cross-section are returned</li>
<li><strong>X1</strong> (<em>np.ndarray</em>) &#8211; Flat array of the unique first coordinates of the mesh points (R or Y)</li>
<li><strong>X2</strong> (<em>np.ndarray</em>) &#8211; Flat array of the unique second coordinates of the mesh points (Z)</li>
<li><strong>NumX1</strong> (<em>int</em>) &#8211; Number of unique values in X1 (=X1.size)</li>
<li><strong>NumX2</strong> (<em>int</em>) &#8211; Number of unique values in X2 (=X2.size)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Ves.isInside">
<code class="descname">isInside</code><span class="sig-paren">(</span><em>Pts</em>, <em>In='(X</em>, <em>Y</em>, <em>Z)'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves.isInside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves.isInside" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of booleans indicating whether each point lies inside the Ves volume</p>
<p>Tests for each point whether it lies inside the Ves object.
The points coordinates can be provided in 2D or 3D, just specify which coordinate system is provided using the &#8216;In&#8217; parameter.
An array of boolean flags is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Pts</strong> (<em>np.ndarray</em>) &#8211; (2,N) or (3,N) array with the coordinates of the points to be tested</li>
<li><strong>In</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating the coordinate system in which the points are provided, in [&#8216;(X,Y,Z)&#8217;,&#8217;(R,Z)&#8217;,&#8217;&#8216;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ind</strong> (<em>np.ndarray</em>) &#8211; Array of booleans of shape (N,), True if a point is inside the Ves volume</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Ves.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Elt='PIBsBvV', Pdict=None, Idict={'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, Bsdict={'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, Bvdict={'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, Vdict={'color': 'r', 'scale': 10}, IdictHor={'c': 'k', 'ls': 'dashed'}, BsdictHor={'c': 'b', 'ls': 'dashed'}, BvdictHor={'c': 'g', 'ls': 'dashed'}, Lim=[1.5707963267948966, 6.283185307179586], Nstep=50, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the polygon defining the vessel, with a cross-section view, a longitudinal view or both, and optionally its reference point for plotting it in projection space</p>
<p>Generic method for plotting the Ves object, the projections to be plotted, the elements to plot, and the dictionaries or properties to be used for plotting each elements can all be specified using keyword arguments.
If an ax is not provided a default one is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>list or plt.Axes</em>) &#8211; The axes to be used for plotting (provide a list of 2 axes if Proj=&#8217;All&#8217;), if None a new figure with axes is created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the kind of projection used for the plot (&#8216;Cross&#8217; for a cross-section, &#8216;Hor&#8217; for a horizontal plane, or &#8216;All&#8217; for the two plots)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag specifying which elements to plot, each capital letter corresponds to an element</dt>
<dd><ul class="first last">
<li>&#8216;P&#8217;: polygon</li>
<li>&#8216;I&#8217;: point used as a reference for computing impact parameters</li>
<li>&#8216;Bs&#8217;: (surfacic) center of mass</li>
<li>&#8216;Bv&#8217;: (volumic) center of mass for Tor type</li>
<li>&#8216;V&#8217;: vector pointing inward perpendicular to each segment defining the polygon</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Pdict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the polygon, fed to plt.Axes.plot() or plt.plot_surface() if Proj=&#8216;3d&#8217;, set to ToFu_Defauts.py if None</li>
<li><strong>Idict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;I&#8217; in Cross-section projection, fed to plt.Axes.plot()</li>
<li><strong>IdictHor</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;I&#8217; in horizontal projection, fed to plt.Axes.plot()</li>
<li><strong>Bsdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;Bs&#8217; in Cross-section projection, fed to plt.Axes.plot()</li>
<li><strong>BsdictHor</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionry of properties used for plotting point &#8216;Bs&#8217; in horizontal projection, fed to plt.Axes.plot()</li>
<li><strong>Bvdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;Bv&#8217; in Cross-section projection, fed to plt.Axes.plot()</li>
<li><strong>BvdictHor</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;Bv&#8217; in horizontal projection, fed to plt.Axes.plot()</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;V&#8217; in cross-section projection, fed to plt.Axes.quiver()</li>
<li><strong>LegDict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>Lim</strong> (<em>list or tuple</em>) &#8211; Array of a lower and upper limit of angle (rad.) or length for plotting the &#8216;3d&#8217; Proj</li>
<li><strong>Nstep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points for sampling in ignorable coordinate (toroidal angle or length)</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be plotted in a4 dimensions for printing</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>La          list or plt.Axes    Handles of the axes used for plotting (list if several axes where used)</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Ves.plot_Sinogram">
<code class="descname">plot_Sinogram</code><span class="sig-paren">(</span><em>Proj='Cross'</em>, <em>ax=None</em>, <em>Ang='theta'</em>, <em>AngUnit='rad'</em>, <em>Sketch=True</em>, <em>Pdict=None</em>, <em>LegDict={'loc': 2</em>, <em>'bbox_to_anchor': (1.01</em>, <em>1)</em>, <em>'prop': {'size': 10}</em>, <em>'ncol': 1</em>, <em>'borderaxespad': 0.0</em>, <em>'frameon': False}</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves.plot_Sinogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves.plot_Sinogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the sinogram of the vessel polygon, by computing its envelopp in a cross-section, can also plot a 3D version of it</p>
<p>The envelop of the polygon is computed using self.Sino_RefPt as a reference point in projection space, and plotted using the provided dictionary of properties.
Optionaly a smal sketch can be included illustrating how the angle and the impact parameters are defined (if the axes is not provided).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot a classic sinogram (&#8216;Cross&#8217;) from the vessel cross-section (assuming 2D), or an extended 3D version &#8216;3d&#8217; of it with additional angle</li>
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; The axes on which the plot should be done, if None a new figure and axes is created</li>
<li><strong>Ang</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which angle to use for the impact parameter, the angle of the line itself (xi) or of its impact parameter (theta)</li>
<li><strong>AngUnit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag for the angle units to be displayed, &#8216;rad&#8217; for radians or &#8216;deg&#8217; for degrees</li>
<li><strong>Sketch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether a small skecth showing the definitions of angles &#8216;theta&#8217; and &#8216;xi&#8217; should be included or not</li>
<li><strong>Pdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting the polygon envelopp, fed to plt.plot() if Proj=&#8217;Cross&#8217; and to plt.plot_surface() if Proj=&#8216;3d&#8217;</li>
<li><strong>LegDict</strong> (<em>None or dict</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be plotted in a4 dimensions for printing</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs shall be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used to plot</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Ves.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Ves.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Ves.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.Struct">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">Struct</code><span class="sig-paren">(</span><em>Id</em>, <em>Poly</em>, <em>Type='Tor'</em>, <em>DLong=None</em>, <em>Ves=None</em>, <em>Clock=False</em>, <em>arrayorder='C'</em>, <em>Exp=None</em>, <em>shot=None</em>, <em>dtime=None</em>, <em>dtimeIn=False</em>, <em>SavePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Struct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Struct" title="Permalink to this definition">¶</a></dt>
<dd><p>A class defining a Linear or Toroidal structural element (i.e. a 2D polygon representing a cross-section and assumed to be linearly or toroidally invariant), like a <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> but with less properties.</p>
<p>A Struct object is mostly defined by a close 2D polygon, which can be understood as a poloidal cross-section in (R,Z) cylindrical coordinates if Type=&#8217;Tor&#8217; (toroidal shape) or as a straight cross-section through a cylinder in (Y,Z) cartesian coordinates if Type=&#8217;Lin&#8217; (linear shape).
Attributes such as the surface, the angular volume (if Type=&#8217;Tor&#8217;) or the center of mass are automatically computed.
The instance is identified thanks to an attribute Id (which is itself a tofu.ID class object) which contains informations on the specific instance (name, Type...).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Id</strong> (<em>str / tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>Poly</strong> (<em>np.ndarray</em>) &#8211; An array (2,N) or (N,2) defining the contour of the vacuum vessel in a cross-section, if not closed, will be closed automatically</li>
<li><strong>Type</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the vessel will be a torus (&#8216;Tor&#8217;) or a linear device (&#8216;Lin&#8217;)</li>
<li><strong>DLong</strong> (<em>list / np.ndarray</em>) &#8211; Array or list of len=2 indicating the limits of the linear device volume on the x axis</li>
<li><strong>Ves</strong> (None or <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a>) &#8211; An optional associated vessel</li>
<li><strong>Clock</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the input polygon should be made clockwise (True) or counter-clockwise (False)</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;)</li>
<li><strong>Exp</strong> (<em>None / str</em>) &#8211; Flag indicating which experiment the object corresponds to, allowed values are in [None,&#8217;AUG&#8217;,&#8217;MISTRAL&#8217;,&#8217;JET&#8217;,&#8217;ITER&#8217;,&#8217;TCV&#8217;,&#8217;TS&#8217;,&#8217;Misc&#8217;]</li>
<li><strong>shot</strong> (<em>None / int</em>) &#8211; Shot number from which this Ves is usable (in case of change of geometry)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>dtime</strong> (<em>None / dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly)</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>struct</strong> (<em>Struct object</em>) &#8211; The created Struct object, with all necessary computed attributes and methods</p>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tofu.geom.Struct.BaryS">
<code class="descname">BaryS</code><a class="headerlink" href="#tofu.geom.Struct.BaryS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (surfacic) center of mass of the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.BaryV">
<code class="descname">BaryV</code><a class="headerlink" href="#tofu.geom.Struct.BaryV" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (volumic) center of mass of the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.DLong">
<code class="descname">DLong</code><a class="headerlink" href="#tofu.geom.Struct.DLong" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the length spanned by the object in the ignorable coordinate</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Id">
<code class="descname">Id</code><a class="headerlink" href="#tofu.geom.Struct.Id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tfpf.ID object of the structure</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Poly">
<code class="descname">Poly</code><a class="headerlink" href="#tofu.geom.Struct.Poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Surf">
<code class="descname">Surf</code><a class="headerlink" href="#tofu.geom.Struct.Surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the area of the polygon defining the vessel cross-section</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Type">
<code class="descname">Type</code><a class="headerlink" href="#tofu.geom.Struct.Type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of structure</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Vect">
<code class="descname">Vect</code><a class="headerlink" href="#tofu.geom.Struct.Vect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the polygon elementary vectors</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Ves">
<code class="descname">Ves</code><a class="headerlink" href="#tofu.geom.Struct.Ves" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the associated <code class="xref py py-class docutils literal"><span class="pre">Ves</span></code> object, if any</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.Vin">
<code class="descname">Vin</code><a class="headerlink" href="#tofu.geom.Struct.Vin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the normalized vectors pointing inwards for each segment of the polygon</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.VolLin">
<code class="descname">VolLin</code><a class="headerlink" href="#tofu.geom.Struct.VolLin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angular volume of the polygon defining the vessel cross-section of Tor type</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Struct.arrayorder">
<code class="descname">arrayorder</code><a class="headerlink" href="#tofu.geom.Struct.arrayorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the flag indicating which order is used for multi-dimensional array attributes</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Struct.isInside">
<code class="descname">isInside</code><span class="sig-paren">(</span><em>Pts</em>, <em>In='(X</em>, <em>Y</em>, <em>Z)'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Struct.isInside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Struct.isInside" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of booleans indicating whether each point lies inside the Ves volume</p>
<p>Tests for each point whether it lies inside the Ves object.
The points coordinates can be provided in 2D or 3D, just specify which coordinate system is provided using the &#8216;In&#8217; parameter.
An array of boolean flags is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Pts</strong> (<em>np.ndarray</em>) &#8211; (2,N) or (3,N) array with the coordinates of the points to be tested</li>
<li><strong>In</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating the coordinate system in which the points are provided, in [&#8216;(X,Y,Z)&#8217;,&#8217;(R,Z)&#8217;,&#8217;&#8216;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ind</strong> (<em>np.ndarray</em>) &#8211; Array of booleans of shape (N,), True if a point is inside the Ves volume</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Struct.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Elt='P', Pdict=None, Bsdict={'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, Bvdict={'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, Vdict={'color': 'r', 'scale': 10}, BsdictHor={'c': 'b', 'ls': 'dashed'}, BvdictHor={'c': 'g', 'ls': 'dashed'}, Lim=[1.5707963267948966, 6.283185307179586], Nstep=50, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Struct.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Struct.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the polygon defining the vessel, with a cross-section view, a longitudinal view or both, and optionally its reference point for plotting it in projection space</p>
<p>Generic method for plotting the Ves object, the projections to be plotted, the elements to plot, and the dictionaries or properties to be used for plotting each elements can all be specified using keyword arguments.
If an ax is not provided a default one is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>list or plt.Axes</em>) &#8211; The axes to be used for plotting (provide a list of 2 axes if Proj=&#8217;All&#8217;), if None a new figure with axes is created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the kind of projection used for the plot (&#8216;Cross&#8217; for a cross-section, &#8216;Hor&#8217; for a horizontal plane, or &#8216;All&#8217; for the two plots)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag specifying which elements to plot, each capital letter corresponds to an element</dt>
<dd><ul class="first last">
<li>&#8216;P&#8217;: polygon</li>
<li>&#8216;Bs&#8217;: (surfacic) center of mass</li>
<li>&#8216;Bv&#8217;: (volumic) center of mass for Tor type</li>
<li>&#8216;V&#8217;: vector pointing inward perpendicular to each segment defining the polygon</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Pdict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the polygon, fed to plt.Axes.plot() or plt.plot_surface() if Proj=&#8216;3d&#8217;, set to ToFu_Defauts.py if None</li>
<li><strong>Bsdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;Bs&#8217; in Cross-section projection, fed to plt.Axes.plot()</li>
<li><strong>BsdictHor</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionry of properties used for plotting point &#8216;Bs&#8217; in horizontal projection, fed to plt.Axes.plot()</li>
<li><strong>Bvdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;Bv&#8217; in Cross-section projection, fed to plt.Axes.plot()</li>
<li><strong>BvdictHor</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;Bv&#8217; in horizontal projection, fed to plt.Axes.plot()</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;V&#8217; in cross-section projection, fed to plt.Axes.quiver()</li>
<li><strong>LegDict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>Lim</strong> (<em>list or tuple</em>) &#8211; Array of a lower and upper limit of angle (rad.) or length for plotting the &#8216;3d&#8217; Proj</li>
<li><strong>Nstep</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points for sampling in ignorable coordinate (toroidal angle or length)</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be plotted in a4 dimensions for printing</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>La          list or plt.Axes    Handles of the axes used for plotting (list if several axes where used)</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Struct.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Struct.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Struct.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.LOS">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">LOS</code><span class="sig-paren">(</span><em>Id</em>, <em>Du</em>, <em>Ves=None</em>, <em>Sino_RefPt=None</em>, <em>arrayorder='C'</em>, <em>Clock=False</em>, <em>Type=None</em>, <em>Exp=None</em>, <em>Diag=None</em>, <em>shot=None</em>, <em>dtime=None</em>, <em>dtimeIn=False</em>, <em>SavePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#LOS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.LOS" title="Permalink to this definition">¶</a></dt>
<dd><p>A Line-Of-Sight object (semi-line with signed direction) with all useful geometrical parameters, associated <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object and built-in methods for plotting, defined in (X,Y,Z) cartesian coordinates</p>
<p>A Line of Sight (LOS) is a semi-line. It is a useful approximate representation of a (more accurate) Volume of Sight (VOS) when the latter is narrow and elongated.
It is usually associated to a detector placed behind apertures.
When associated to a <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object, special points are automatically computed (entry point, exit point, closest point to the center of the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object...) as well as a projection in a cross-section.
While tofu provides the possibility of creating LOS objects for academic and simplification pueposes, it is generally not recommended to use them for doing physics, consider using a Detect object instead (which will provide you with a proper and automatically-computed VOS as well as with a LOS if you want).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Id</strong> (<em>str / tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>Du</strong> (<em>list / tuple</em>) &#8211; List of 2 arrays of len=3, the (X,Y,Z) coordinates of respectively the starting point D of the LOS and its directing vector u (will be automatically normalized)</li>
<li><strong>Ves</strong> (<a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a>) &#8211; A <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> instance to be associated to the created LOS</li>
<li><strong>Sino_RefPt</strong> (<em>None or np.ndarray</em>) &#8211; If provided, array of size=2 containing the (R,Z) (for &#8216;Tor&#8217; Type) or (Y,Z) (for &#8216;Lin&#8217; Type) coordinates of the reference point for the sinogram</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;)</li>
<li><strong>Type</strong> (<a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><em>None</em></a>) &#8211; (not used in the current version)</li>
<li><strong>Exp</strong> (<em>None / str</em>) &#8211; Experiment to which the Lens belongs, should be identical to Ves.Id.Exp if Ves is provided, if None and Ves is provided, Ves.Id.Exp is used</li>
<li><strong>Diag</strong> (<em>None / str</em>) &#8211; Diagnostic to which the Lens belongs</li>
<li><strong>shot</strong> (<em>None / int</em>) &#8211; Shot number from which this Lens is usable (in case its position was changed from a previous configuration)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>dtime</strong> (<em>None / dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly)</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tofu.geom.LOS.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Lplot='Tot', Elt='LDIORP', EltVes='', Leg='', Ldict={'lw': 2, 'c': 'k'}, MdictD={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictI={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictO={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictR={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictP={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#LOS.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.LOS.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the LOS, in a cross-section projection, a horizontal projection or both, and optionally the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object associated to it.</p>
<p>Plot the desired projections of the LOS object.
The plot can include the special points, the directing vector, and the properties of the plotted objects are specified by dictionaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>list / plt.Axes</em>) &#8211; The axes to be used for plotting (provide a list of 2 axes if Proj=&#8217;All&#8217;), if None a new figure with axes is created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the kind of projection used for the plot (&#8216;Cross&#8217; for a cross-section, &#8216;Hor&#8217; for a horizontal plane, &#8216;All&#8217; both and &#8216;3d&#8217; for 3d)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag specifying which elements to plot, each capital letter corresponds to an element</dt>
<dd><ul class="first last">
<li>&#8216;L&#8217;: LOS</li>
<li>&#8216;D&#8217;: Starting point of the LOS</li>
<li>&#8216;I&#8217;: Input point (i.e.: where the LOS enters the Vessel)</li>
<li>&#8216;O&#8217;: Output point (i.e.: where the LOS exits the Vessel)</li>
<li>&#8216;R&#8217;: Point of minimal major radius R (only for Vessel of Type=&#8217;Tor&#8217;)</li>
<li>&#8216;P&#8217;: Point of used for impact parameter (i.e.: minimal distance to reference point Sino_RefPt)</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Lplot</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to plot the full LOS (&#8216;Tot&#8217;: from starting point output point) or only the fraction inside the vessel (&#8216;In&#8217;: from input to output point)</li>
<li><strong>EltVes</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the elements of the Vessel to be plotted, fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></li>
<li><strong>Leg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Legend to be used to identify this LOS, if Leg=&#8217;&#8217; the LOS name is used</li>
<li><strong>Ldict</strong> (<em>dict / None</em>) &#8211; Dictionary of properties used for plotting the polygon, fed to plt.Axes.plot() or plt.plot_surface() if Proj=&#8216;3d&#8217;, set to ToFu_Defauts.py if None</li>
<li><strong>MdictD</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;D&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictI</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;I&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictO</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;O&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictR</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;R&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictP</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;P&#8217;, fed to plt.Axes.plot()</li>
<li><strong>LegDict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>Vesdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of kwdargs to fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, and &#8216;EltVes&#8217; is used instead of &#8216;Elt&#8217;</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be plotted in a4 dimensions for printing</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>La</strong> (<em>list / plt.Axes</em>) &#8211; Handles of the axes used for plotting (list if several axes where used)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.LOS.plot_Sinogram">
<code class="descname">plot_Sinogram</code><span class="sig-paren">(</span><em>Proj='Cross'</em>, <em>ax=None</em>, <em>Elt='LV'</em>, <em>Sketch=True</em>, <em>Ang='theta'</em>, <em>AngUnit='rad'</em>, <em>Ldict={'c': 'k'</em>, <em>'markersize': 8</em>, <em>'lw': 2</em>, <em>'mew': 2</em>, <em>'ls': 'None'</em>, <em>'marker': 'x'}</em>, <em>Vdict={'edgecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)</em>, <em>'linewidth': 1</em>, <em>'linestyle': 'solid'</em>, <em>'facecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)}</em>, <em>LegDict={'loc': 2</em>, <em>'bbox_to_anchor': (1.01</em>, <em>1)</em>, <em>'prop': {'size': 10}</em>, <em>'ncol': 1</em>, <em>'borderaxespad': 0.0</em>, <em>'frameon': False}</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#LOS.plot_Sinogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.LOS.plot_Sinogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the sinogram of the vessel polygon, by computing its envelopp in a cross-section, can also plot a 3D version of it</p>
<p>Plot the LOS in projection space (where sinograms are plotted) as a point.
You can plot the conventional projection-space (in 2D in a cross-section), or a 3D extrapolation of it, where the third coordinate is provided by the angle that the LOS makes with the cross-section plane (useful in case of multiple LOS with a partially tangential view).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot a classic sinogram (&#8216;Cross&#8217;) from the vessel cross-section (assuming 2D), or an extended 3D version (&#8216;3d&#8217;) of it with additional angle</li>
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; The axes on which the plot should be done, if None a new figure and axes is created</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag indicating which elements to plot, each capital letter stands for one element</dt>
<dd><ul class="first last">
<li>&#8216;L&#8217;: LOS</li>
<li>&#8216;V&#8217;: Vessel</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Ang</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which angle to use for the impact parameter, the angle of the line itself (xi) or of its impact parameter (theta)</li>
<li><strong>AngUnit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag for the angle units to be displayed, &#8216;rad&#8217; for radians or &#8216;deg&#8217; for degrees</li>
<li><strong>Sketch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether a small skecth showing the definitions of angles &#8216;theta&#8217; and &#8216;xi&#8217; should be included or not</li>
<li><strong>Ldict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting the LOS point, fed to plt.plot() if Proj=&#8217;Cross&#8217; and to plt.plot_surface() if Proj=&#8216;3d&#8217;</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting the polygon envelopp, fed to plt.plot() if Proj=&#8217;Cross&#8217; and to plt.plot_surface() if Proj=&#8216;3d&#8217;</li>
<li><strong>LegDict</strong> (<em>None or dict</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be plotted in a4 dimensions for printing</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs shall be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used to plot</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.LOS.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#LOS.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.LOS.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.GLOS">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">GLOS</code><span class="sig-paren">(</span><em>Id</em>, <em>LLOS</em>, <em>Ves=None</em>, <em>Sino_RefPt=None</em>, <em>Type=None</em>, <em>Exp=None</em>, <em>Diag=None</em>, <em>shot=None</em>, <em>arrayorder='C'</em>, <em>Clock=False</em>, <em>dtime=None</em>, <em>dtimeIn=False</em>, <em>SavePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GLOS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GLOS" title="Permalink to this definition">¶</a></dt>
<dd><p>An object regrouping a group of LOS objects with some common features (e.g.: all belong to the same camera) and the same <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object, provides methods for common computing and plotting</p>
<p>Usually <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> correspond to detectors which are naturally grouped in &#8216;cameras&#8217; (sets of detectors located in the same place or sharing an aperture or a data acquisition system).
The GLOS object provided by tofu provides the object-oriented equivalent.
The GLOS objects provides the same methods as the <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> objects, plus extra methods for fast handling or selecting of the whole set.
Note that you must first create each <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> independently and then provide them as a list argument to a GLOS object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Id</strong> (<em>str / tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>LLOS</strong> (<em>list / :class:'LOS'</em>) &#8211; List of LOS instances with the same <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> instance</li>
<li><strong>Type</strong> (<a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><em>None</em></a>) &#8211; (not used in the current version)</li>
<li><strong>Exp</strong> (<em>None / str</em>) &#8211; Experiment to which the Lens belongs, should be identical to Ves.Id.Exp if Ves is provided, if None and Ves is provided, Ves.Id.Exp is used</li>
<li><strong>Diag</strong> (<em>None / str</em>) &#8211; Diagnostic to which the Lens belongs</li>
<li><strong>shot</strong> (<em>None / int</em>) &#8211; Shot number from which this Lens is usable (in case its position was changed from a previous configuration)</li>
<li><strong>Sino_RefPt</strong> (<em>None / iterable</em>) &#8211; If provided, array of size=2 containing the (R,Z) (for &#8216;Tor&#8217; Type) or (Y,Z) (for &#8216;Lin&#8217; Type) coordinates of the reference point for the sinogram</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>None / dtm.datetime</strong> (<em>dtime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly)</li>
<li><strong>bool</strong> (<em>dtimeIn</em>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tofu.geom.GLOS.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Lplot='Tot', Elt='LDIORP', EltVes='', Leg='', Ldict={'lw': 2, 'c': 'k'}, MdictD={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictI={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictO={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictR={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, MdictP={'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, ind=None, Val=None, Crit='Name', PreExp=None, PostExp=None, Log='any', InOut='In', Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GLOS.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GLOS.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the GLOS, with a cross-section view, a horizontal view or both, and optionally the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object associated to it.</p>
<p>Plot all the <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> of the GLOS, or only a selection of them (using the same parameters as self.select()).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>list or plt.Axes</em>) &#8211; The axes to be used for plotting (provide a list of 2 axes if Proj=&#8217;All&#8217;), if None a new figure with axes is created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the kind of projection used for the plot (&#8216;Cross&#8217; for a cross-section, &#8216;Hor&#8217; for a horizontal plane, &#8216;All&#8217; both and &#8216;3d&#8217; for 3d)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag specifying which elements to plot, each capital letter corresponds to an element</dt>
<dd><ul class="first last">
<li>&#8216;L&#8217;: LOS</li>
<li>&#8216;D&#8217;: Starting point of the LOS</li>
<li>&#8216;I&#8217;: Input point (i.e.: where the LOS enters the Vessel)</li>
<li>&#8216;O&#8217;: Output point (i.e.: where the LOS exits the Vessel)</li>
<li>&#8216;R&#8217;: Point of minimal major radius R (only for Vessel of Type=&#8217;Tor&#8217;)</li>
<li>&#8216;P&#8217;: Point of used for impact parameter (i.e.: minimal distance to reference point ImpRZ)</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Lplot</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to plot the full LOS (&#8216;Tot&#8217;: from starting point output point) or only the fraction inside the vessel (&#8216;In&#8217;: from input to output point)</li>
<li><strong>EltVes</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the elements of the Vessel to be plotted, fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></li>
<li><strong>Leg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Legend to be used to identify this LOS, if Leg=&#8217;&#8217; the LOS name is used</li>
<li><strong>Ldict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the polygon, fed to plt.Axes.plot() or plt.plot_surface() if Proj=&#8216;3d&#8217;, set to ToFu_Defauts.py if None</li>
<li><strong>MdictD</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;D&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictI</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;I&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictO</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;O&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictR</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;R&#8217;, fed to plt.Axes.plot()</li>
<li><strong>MdictP</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting point &#8216;P&#8217;, fed to plt.Axes.plot()</li>
<li><strong>LegDict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>Vesdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of kwdargs to fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, and &#8216;EltVes&#8217; is used instead of &#8216;Elt&#8217;</li>
<li><strong>Lim</strong> (<em>list or tuple</em>) &#8211; Array of a lower and upper limit of angle (rad.) or length for plotting the &#8216;3d&#8217; Proj</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
<li><strong>None or np.ndarray</strong> (<em>ind</em>) &#8211; Array of indices (int or bool) of the LOS to be plotted if only some of them are to be plotted</li>
<li><strong>kwdargs</strong> &#8211; kwdargs to be fed to GLOS.select() if ind=None and only a fraction of the LOS are to be plotted</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>La</strong> (<em>list or plt.Axes</em>) &#8211; Handles of the axes used for plotting (list if several axes where used)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GLOS.plot_Sinogram">
<code class="descname">plot_Sinogram</code><span class="sig-paren">(</span><em>Proj='Cross'</em>, <em>ax=None</em>, <em>Elt='LV'</em>, <em>Sketch=True</em>, <em>Ang='theta'</em>, <em>AngUnit='rad'</em>, <em>Ldict={'c': 'k'</em>, <em>'markersize': 8</em>, <em>'lw': 2</em>, <em>'mew': 2</em>, <em>'ls': 'None'</em>, <em>'marker': 'x'}</em>, <em>Vdict={'edgecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)</em>, <em>'linewidth': 1</em>, <em>'linestyle': 'solid'</em>, <em>'facecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)}</em>, <em>LegDict={'loc': 2</em>, <em>'bbox_to_anchor': (1.01</em>, <em>1)</em>, <em>'prop': {'size': 10}</em>, <em>'ncol': 1</em>, <em>'borderaxespad': 0.0</em>, <em>'frameon': False}</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em>, <em>ind=None</em>, <em>Val=None</em>, <em>Crit='Name'</em>, <em>PreExp=None</em>, <em>PostExp=None</em>, <em>Log='any'</em>, <em>InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GLOS.plot_Sinogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GLOS.plot_Sinogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the sinogram of the vessel polygon, by computing its envelopp in a cross-section, can also plot a 3D version of it</p>
<p>Plot all the <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> of the GLOS, or only a selection of them in projection space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot a classic sinogram (&#8216;Cross&#8217;) from the vessel cross-section (assuming 2D), or an extended 3D version &#8216;3d&#8217; of it with additional angle, default: &#8216;Cross&#8217;</li>
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; The axes on which the plot should be done, if None a new figure and axes is created, default: None</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag indicating which elements to plot, each capital letter stands for one element, default: &#8216;LV&#8217;</dt>
<dd><ul class="first last">
<li>&#8216;L&#8217;: LOS</li>
<li>&#8216;V&#8217;: Vessel</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Ang</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which angle to use for the impact parameter, the angle of the line itself (xi) or of its impact parameter (theta), default: &#8216;theta&#8217;</li>
<li><strong>AngUnit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag for the angle units to be displayed, &#8216;rad&#8217; for radians or &#8216;deg&#8217; for degrees, default: &#8216;rad&#8217;</li>
<li><strong>Sketch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether a small skecth showing the definitions of angles &#8216;theta&#8217; and &#8216;xi&#8217; should be included or not</li>
<li><strong>Ldict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting the LOS point, fed to plt.plot() if Proj=&#8217;Cross&#8217; and to plt.plot_surface() if Proj=&#8216;3d&#8217;, default: see ToFu_Defaults.py</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting the polygon envelopp, fed to plt.plot() if Proj=&#8217;Cross&#8217; and to plt.plot_surface() if Proj=&#8216;3d&#8217;, default: see ToFu_Defaults.py</li>
<li><strong>LegDict</strong> (<em>None or dict</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None, default: see ToFu_Defaults.py</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure, default: True</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs shall be tested for conformity, default: True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used to plot</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GLOS.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GLOS.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GLOS.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GLOS.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>Val=None</em>, <em>Crit='Name'</em>, <em>PreExp=None</em>, <em>PostExp=None</em>, <em>Log='any'</em>, <em>InOut='In'</em>, <em>Out=&lt;type 'bool'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GLOS.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GLOS.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices or instances of all instances matching the specified criterion.</p>
<p>The selection can be done according to 2 different mechanism (1) and (2).</p>
<p>For mechanism (1): the user provides the value (Val) that the specified criterion (Crit) should take for a <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> to be selected.
The criteria are typically attributes of the self.Id attribute (i.e.: name of the instance, or user-defined attributes like the camera head...)</p>
<p>For mechanism (2), used if Val=None: the user provides a str expression (or a list of such) to be fed to eval(), used to check on quantitative criteria, placed before the criterion value (e.g.: &#8216;not &#8216; or &#8216;&lt;=&#8217;).
Another str or list of str expressions can be provided that will be placed after the criterion value.</p>
<p>Other parameters are used to specify logical operators for the selection (match any or all the criterion...) and the type of output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Crit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which criterion to use for discrimination
Can be set to any attribute of the tofu.pathfile.ID class (e.g.: &#8216;Name&#8217;,&#8217;SaveName&#8217;,&#8217;SavePath&#8217;...) or any key of ID.USRdict (e.g.: &#8216;Exp&#8217;...)</li>
<li><strong>Val</strong> (<em>list, str or None</em>) &#8211; The value to match for the chosen criterion, can be a list of different values
Used for selection mechanism (1)</li>
<li><strong>PreExp</strong> (<em>list, str or None</em>) &#8211; A str of list of str expressions to be fed to eval(), used to check on quantitative criteria, placed before the criterion value (e.g.: &#8216;not &#8216;)
Used for selection mechanism (2)</li>
<li><strong>PostExp</strong> (<em>list, str or None</em>) &#8211; A str of list of str expressions to be fed to eval(), used to check on quantitative criteria, placed after the criterion value (e.g.: &#8216;&gt;=5.&#8217;)
Used for selection mechanism (2)</li>
<li><strong>Log</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the criterion shall match all provided values or one of them (&#8216;any&#8217; or &#8216;all&#8217;)</li>
<li><strong>InOut</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the returned indices are the ones matching the criterion (&#8216;In&#8217;) or the ones not matching it (&#8216;Out&#8217;)</li>
<li><strong>Out</strong> (<em>type / str</em>) &#8211; Flag indicating in which form shall the result be returned, as an array of integer indices (int), an array of booleans (bool), a list of names (&#8216;Names&#8217;) or a list of instances (&#8216;LOS&#8217;)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ind</strong> (<em>list / np.ndarray</em>) &#8211; The computed output (array of index, list of names or instances depending on parameter &#8216;Out&#8217;)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tofu.geom</span> <span class="k">as</span> <span class="nn">tfg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ves</span> <span class="o">=</span> <span class="n">tfg</span><span class="o">.</span><span class="n">Ves</span><span class="p">(</span><span class="s">&#39;ves&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">]],</span> <span class="n">DLong</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">],</span> <span class="n">Type</span><span class="o">=</span><span class="s">&#39;Lin&#39;</span><span class="p">,</span> <span class="n">Exp</span><span class="o">=</span><span class="s">&#39;Misc&#39;</span><span class="p">,</span> <span class="n">shot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">los1</span> <span class="o">=</span> <span class="n">tfg</span><span class="o">.</span><span class="n">LOS</span><span class="p">(</span><span class="s">&#39;los1&#39;</span><span class="p">,</span> <span class="p">([</span><span class="mf">0.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">]),</span> <span class="n">Ves</span><span class="o">=</span><span class="n">ves</span><span class="p">,</span> <span class="n">Exp</span><span class="o">=</span><span class="s">&#39;Misc&#39;</span><span class="p">,</span> <span class="n">Diag</span><span class="o">=</span><span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="n">shot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">los2</span> <span class="o">=</span> <span class="n">tfg</span><span class="o">.</span><span class="n">LOS</span><span class="p">(</span><span class="s">&#39;los2&#39;</span><span class="p">,</span> <span class="p">([</span><span class="mf">0.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.</span><span class="p">]),</span> <span class="n">Ves</span><span class="o">=</span><span class="n">ves</span><span class="p">,</span> <span class="n">Exp</span><span class="o">=</span><span class="s">&#39;Misc&#39;</span><span class="p">,</span> <span class="n">Diag</span><span class="o">=</span><span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="n">shot</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">los3</span> <span class="o">=</span> <span class="n">tfg</span><span class="o">.</span><span class="n">LOS</span><span class="p">(</span><span class="s">&#39;los3&#39;</span><span class="p">,</span> <span class="p">([</span><span class="mf">0.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]),</span> <span class="n">Ves</span><span class="o">=</span><span class="n">ves</span><span class="p">,</span> <span class="n">Exp</span><span class="o">=</span><span class="s">&#39;Misc&#39;</span><span class="p">,</span> <span class="n">Diag</span><span class="o">=</span><span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="n">shot</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glos</span> <span class="o">=</span> <span class="n">tfg</span><span class="o">.</span><span class="n">GLOS</span><span class="p">(</span><span class="s">&#39;glos&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">los1</span><span class="p">,</span><span class="n">los2</span><span class="p">,</span><span class="n">los3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ind</span> <span class="o">=</span> <span class="n">glos</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">Val</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;los1&#39;</span><span class="p">,</span><span class="s">&#39;los3&#39;</span><span class="p">],</span> <span class="n">Log</span><span class="o">=</span><span class="s">&#39;any&#39;</span><span class="p">,</span> <span class="n">Out</span><span class="o">=</span><span class="s">&#39;LOS&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="p">[</span><span class="n">ii</span><span class="o">.</span><span class="n">Id</span><span class="o">.</span><span class="n">Name</span> <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="n">ind</span><span class="p">]</span>
<span class="go">[&#39;los1&#39;, &#39;los3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ind</span> <span class="o">=</span> <span class="n">glos</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">Val</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;los1&#39;</span><span class="p">,</span><span class="s">&#39;los3&#39;</span><span class="p">],</span> <span class="n">Log</span><span class="o">=</span><span class="s">&#39;any&#39;</span><span class="p">,</span> <span class="n">InOut</span><span class="o">=</span><span class="s">&#39;Out&#39;</span><span class="p">,</span> <span class="n">Out</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">array([1])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.Lens">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">Lens</code><span class="sig-paren">(</span><em>Id</em>, <em>O</em>, <em>nIn</em>, <em>Rad</em>, <em>F1</em>, <em>F2=inf</em>, <em>R1=None</em>, <em>R2=None</em>, <em>dd=None</em>, <em>Ves=None</em>, <em>Type='Sph'</em>, <em>Exp=None</em>, <em>Diag=None</em>, <em>shot=None</em>, <em>arrayorder='C'</em>, <em>Clock=False</em>, <em>SavePath=None</em>, <em>dtime=None</em>, <em>dtimeIn=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Lens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Lens" title="Permalink to this definition">¶</a></dt>
<dd><p>A Lens class with all geometrical data and built-in methods, defined as a planar polygon in 3D cartesian coordinates, with optional <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object</p>
<p>A Lens object is useful for implementing one of the two possible optical arrangements available in tofu.
A Lens (implicitly convergent) is used for focusing incoming light on a detector of reduced size (i.e.g: like the end of an optic fiber cable).
In this case, anmd in its current version, tofu only handles spherical lenses and assumes that the detector has a circular active surface, centered on the same axis as the lens and located in its focal plane.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Id</strong> (<em>str or tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>O</strong> (<em>iterable</em>) &#8211; Array of 3D cartesian coordinates of the center of the Lens</li>
<li><strong>nIn</strong> (<em>iterable</em>) &#8211; Array of 3D cartesian coordiantes of the vector defining the axis of the Lens</li>
<li><strong>Rad</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Radius of the Lens</li>
<li><strong>F1</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Focal length of the Lens, on the detector side</li>
<li><strong>F2</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Focal length of the Lens, on the plasma side (only np.inf supported so far)</li>
<li><strong>Type</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating the type of Lens (only &#8216;Sph&#8217; - for spherical lens - supported so far)</li>
<li><strong>R1</strong> (<em>None or float</em>) &#8211; Radius of the first face of the Lens, for full description only</li>
<li><strong>R2</strong> (<em>None or float</em>) &#8211; Radius of the second face of the Lens, for full description only</li>
<li><strong>dd</strong> (<em>None or float</em>) &#8211; Width of the Lens along its axis, for full description only</li>
<li><strong>Ves</strong> (<a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a>) &#8211; <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object to which the aperture is assigned</li>
<li><strong>Exp</strong> (<em>None or str</em>) &#8211; Experiment to which the Lens belongs, should be identical to Ves.Id.Exp if Ves is provided, if None and Ves is provided, Ves.Id.Exp is used</li>
<li><strong>Diag</strong> (<em>None or str</em>) &#8211; Diagnostic to which the Lens belongs</li>
<li><strong>shot</strong> (<em>None or int</em>) &#8211; Shot number from which this Lens is usable (in case its position was changed from a previous configuration)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>Clock</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the input polygon should be made clockwise (True) or counter-clockwise (False), default: False</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;), default: &#8216;C&#8217;</li>
<li><strong>dtime</strong> (<em>None or dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly), default: None</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly), default: False</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tofu.geom.Lens.Poly">
<code class="descname">Poly</code><a class="headerlink" href="#tofu.geom.Lens.Poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a simple representation of the Lens as a 3D circle (if Lens.Type=&#8217;Sph&#8217;)</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Lens.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Elt='PV', EltVes='', Leg=None, LVIn=0.1, Pdict={'lw': 2, 'c': 'k', 'ls': 'solid'}, Vdict={'color': 'r', 'lw': 2, 'ls': 'solid'}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Lens.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Lens.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the Lens object, optionally with the associated <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object</p>
<p>Plot the chosen projections of the Lens polygon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>list or plt.Axes</em>) &#8211; The axes to be used for plotting (provide a list of 2 axes if Proj=&#8217;All&#8217;), if None a new figure with axes is created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the kind of projection used for the plot (&#8216;Cross&#8217; for a cross-section, &#8216;Hor&#8217; for a horizontal plane, &#8216;All&#8217; both and &#8216;3d&#8217; for 3d)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag specifying which elements to plot, each capital letter corresponds to an element</dt>
<dd><ul class="first last">
<li>&#8216;P&#8217;: polygon</li>
<li>&#8216;V&#8217;: vector perpendicular to the polygon, oriented towards the interior of the Vessel</li>
</ul>
</dd>
</dl>
</li>
<li><strong>EltVes</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying the elements of the Vessel to be plotted, fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></li>
<li><strong>Leg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Legend to be used to identify this LOS, if Leg=&#8217;&#8217; the LOS name is used</li>
<li><strong>LVIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Length (in data coordinates, meters) of the vector &#8216;V&#8217;</li>
<li><strong>Pdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting the polygon, fed to plt.Axes.plot() or plt.plot_surface() if Proj=&#8216;3d&#8217;, set to ToFu_Defauts.py if None (default: None)</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties used for plotting vector &#8216;V&#8217;, fed to plt.Axes.plot()</li>
<li><strong>Vesdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of kwdargs to fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, and &#8216;EltVes&#8217; is used instead of &#8216;Elt&#8217;</li>
<li><strong>LegDict</strong> (<em>dict or None</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be a4 size (for printing or saving as pdf for example)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Lax</strong> (<em>list or plt.Axes</em>) &#8211; Handles of the axes used for plotting (list if several axes where used)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Lens.plot_alone">
<code class="descname">plot_alone</code><span class="sig-paren">(</span><em>ax=None</em>, <em>V='red'</em>, <em>nin=1.5</em>, <em>nout=1.0</em>, <em>Lmax='F'</em>, <em>V_NP=50</em>, <em>src=None</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Lens.plot_alone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Lens.plot_alone" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a 2D representation of the Lens object, optionally with 2D viewing cone and rays of several sources in the plane, either with reduced of full representation</p>
<p>Plot a sketch of the Lens, optionally with ray-traced incoming light beams.
This plotting routine does not consider any syurrounding and plots everything assuming the origine of the coordinate system is on the Lens</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; Axes to be used for plotting, if None a new figure with axes is created (default: None)</li>
<li><strong>V</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the Lens should be considered in its reduced geometry model (&#8216;red&#8217;) or its full version (&#8216;full&#8217;), default: &#8216;red&#8217;</li>
<li><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Value of the optical index to be used inside the Lens (useful when V=&#8217;full&#8217; only)</li>
<li><strong>nout</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Value of the optical index to be used outside the Lens (useful when V=&#8217;full&#8217; only)</li>
<li><strong>Lmax</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Maximum length on which the source beams should be plotted after going through the Lens, if &#8216;F&#8217; all beams are plotted up to the focal plane</li>
<li><strong>V_NP</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points to be used to plot each circle fraction of the full version of the Lens geometry (useful when V=&#8217;full&#8217; only)</li>
<li><strong>src</strong> (<em>None or dict</em>) &#8211; <dl class="docutils">
<dt>Dictionary of parameters for the source of ray beams:</dt>
<dd><ul class="first last">
<li>&#8216;Pt&#8217;:   iterable of len()=2 with the 2D cartesian coordinates of the point where the source should be located with reference to the Lens center (0,0) and axis (1,0)</li>
<li>&#8216;Type&#8217;: Flag indicating whether the source should a point (&#8216;Pt&#8217;) or an array of parallel beams perpendicular to a plane passing through Pt</li>
<li>&#8216;nn&#8217;:   iterable of len()=2 with the 2D cartesian coordinates of a vector directing the array of parallel beams</li>
<li>&#8216;NP&#8217;:   int, number of beams to be plotted from the source</li>
</ul>
</dd>
</dl>
</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically, default: True</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the figure should be a4 size (for printing or saving as pdf for example)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity, default: True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; Handle of the axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Lens.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Lens.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Lens.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.Apert">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">Apert</code><span class="sig-paren">(</span><em>Id</em>, <em>Poly</em>, <em>Type=None</em>, <em>Ves=None</em>, <em>Exp=None</em>, <em>Diag=None</em>, <em>shot=None</em>, <em>arrayorder='C'</em>, <em>Clock=False</em>, <em>SavePath=None</em>, <em>dtime=None</em>, <em>dtimeIn=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Apert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Apert" title="Permalink to this definition">¶</a></dt>
<dd><p>An Aperture class with all geometrical data and built-in methods, defined as a planar polygon in 3D cartesian coordinates, with optional <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object</p>
<p>An Apert object is useful for implementing one of the two possible optical arrangements available in tofu.
An aperture is modelled as a planar polygon (of any non self-intersecting shape) through which light can pass (fully transparent) and around which light cannot pass (fully non-transparent).
One of the added-values of tofu is that it allows to create several non-coplanar aperture and assign them to a single detector. It then computes automatically the volume of sight by assuming that a detectable photon should go through all apertures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Id</strong> (<em>str or tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>Poly</strong> (<em>np.ndarray</em>) &#8211; An array (2,N) or (N,2) defining the contour of the aperture in 3D (X,Y,Z) cartesian coordinates, if not closed, will be closed automatically</li>
<li><strong>Ves</strong> (<a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a>) &#8211; <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object to which the aperture is assigned</li>
<li><strong>Type</strong> (<em>None or str</em>) &#8211; Flag specifying the type of Apert</li>
<li><strong>Exp</strong> (<em>None or str</em>) &#8211; Experiment to which the Lens belongs, should be identical to Ves.Id.Exp if Ves is provided, if None and Ves is provided, Ves.Id.Exp is used</li>
<li><strong>Diag</strong> (<em>None or str</em>) &#8211; Diagnostic to which the Lens belongs</li>
<li><strong>shot</strong> (<em>None or int</em>) &#8211; Shot number from which this Lens is usable (in case its position was changed from a previous configuration)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>Clock</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the input polygon should be made clockwise (True) or counter-clockwise (False)</li>
<li><strong>dtime</strong> (<em>None or dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (mostly used for debugging)</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (mostly used for debugging)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tofu.geom.Apert.BaryS">
<code class="descname">BaryS</code><a class="headerlink" href="#tofu.geom.Apert.BaryS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (surfacic) center of mass of the polygon (in 3D cartesian coordinates)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Apert.Id">
<code class="descname">Id</code><a class="headerlink" href="#tofu.geom.Apert.Id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the associated tfpf.ID object</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Apert.NP">
<code class="descname">NP</code><a class="headerlink" href="#tofu.geom.Apert.NP" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of points defining the polygon</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Apert.Poly">
<code class="descname">Poly</code><a class="headerlink" href="#tofu.geom.Apert.Poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the planar polygon defining the aperture (in 3D cartesian coordinates)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Apert.Surf">
<code class="descname">Surf</code><a class="headerlink" href="#tofu.geom.Apert.Surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the area of the polygon</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Apert.Ves">
<code class="descname">Ves</code><a class="headerlink" href="#tofu.geom.Apert.Ves" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the associated <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Apert.nIn">
<code class="descname">nIn</code><a class="headerlink" href="#tofu.geom.Apert.nIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the normalized vector perpendicular to the polygon surface and oriented towards the interior of the associated vessel (in 3D cartesian coordinates)</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Apert.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Elt='PV', EltVes='', Leg=None, LVIn=0.1, Pdict={'lw': 2, 'c': 'k', 'ls': 'solid'}, Vdict={'color': 'r', 'lw': 2, 'ls': 'solid'}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Apert.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Apert.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the Apert, with a cross-section view, a horizontal view or both, or a 3d view, and optionally the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object associated to it.</p>
<p>Plot the desired projections of the polygon defining the aperture.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list or plt.Axes</strong> (<em>Lax</em>) &#8211; The axes to be used for plotting (provide a list of 2 axes if Proj=&#8217;All&#8217;), if None a new figure with axes is created</li>
<li><strong>str</strong> (<em>Leg</em>) &#8211; Flag specifying the kind of projection used for the plot (&#8216;Cross&#8217; for a cross-section, &#8216;Hor&#8217; for a horizontal plane, &#8216;All&#8217; both and &#8216;3d&#8217; for 3d)</li>
<li><strong>str</strong> &#8211; <dl class="docutils">
<dt>Flag specifying which elements to plot, each capital letter corresponds to an element</dt>
<dd><ul class="first last">
<li>&#8216;P&#8217;: polygon</li>
<li>&#8216;V&#8217;: vector perpendicular to the polygon, oriented towards the interior of the Vessel</li>
</ul>
</dd>
</dl>
</li>
<li><strong>str</strong> &#8211; Flag specifying the elements of the Vessel to be plotted, fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></li>
<li><strong>str</strong> &#8211; Legend to be used to identify this LOS, if Leg=&#8217;&#8217; the LOS name is used</li>
<li><strong>float</strong> (<em>LVIn</em>) &#8211; Length (in data coordinates, meters) of the vector &#8216;V&#8217;</li>
<li><strong>dict</strong> (<em>Vesdict</em>) &#8211; Dictionary of properties used for plotting the polygon, fed to plt.Axes.plot() or plt.plot_surface() if Proj=&#8216;3d&#8217;, set to ToFu_Defauts.py if None</li>
<li><strong>dict</strong> &#8211; Dictionary of properties used for plotting vector &#8216;V&#8217;, fed to plt.Axes.plot()</li>
<li><strong>dict</strong> &#8211; Dictionary of kwdargs to fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, and &#8216;EltVes&#8217; is used instead of &#8216;Elt&#8217;</li>
<li><strong>dict or None</strong> (<em>LegDict</em>) &#8211; Dictionary of properties used for plotting the legend, fed to plt.legend(), the legend is not plotted if None</li>
<li><strong>bool</strong> (<em>Test</em>) &#8211; Flag indicating whether the fig.canvas.draw() shall be called automatically</li>
<li><strong>bool</strong> &#8211; Flag indicating whether the figure should be a4 size (for printing or saving as pdf for example)</li>
<li><strong>bool</strong> &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>La          list or plt.Axes</em> &#8211; Handles of the axes used for plotting (list if several axes where used)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Apert.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Apert.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Apert.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.Detect">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">Detect</code><span class="sig-paren">(</span><em>Id, Poly, Optics=None, Ves=None, Sino_RefPt=None, CalcEtend=True, CalcSpanImp=True, CalcCone=True, CalcPreComp=True, Calc=True, Verb=True, Etend_Method='quad', Etend_RelErr=0.001, Etend_dX12=[0.01, 0.01], Etend_dX12Mode='rel', Etend_Ratio=0.02, Colis=True, LOSRef='Cart', Cone_DRY=0.0025, Cone_DXTheta=None, Cone_DZ=0.0025, Cone_NPsi=20, Cone_Nk=60, arrayorder='C', Clock=False, Type=None, Exp=None, Diag=None, shot=None, dtime=None, dtimeIn=False, SavePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect" title="Permalink to this definition">¶</a></dt>
<dd><p>A Detector class with all geometrical data and built-in methods, defined as a planar polygon in 3D cartesian coordinates, with optional aperture objects</p>
<p>A Detect object is at the core of tofu&#8217;s added value and is mostly defined by a 3D planar polygon of any non self-intersecting shape representing the active surface of a detector.
It can then be associated to optics (a <a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a> or a list of <a class="reference internal" href="#tofu.geom.Apert" title="tofu.geom.Apert"><code class="xref py py-class docutils literal"><span class="pre">Apert</span></code></a> objects) and to a <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> to automatically compute a natural :class:&#8217;LOS&#8217; (with its etendue) and, most importantly, a proper VOS (that can be discretized for 3D numerical integration).
It can be 2 different types: either &#8216;Circ&#8217; if it is associated to a <a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a> (in which case it is simply defined by radius and is assumed to be circular and placed at the focal plane of the <a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a> object), or None in the more general case in which it is associated to a set of apertures.
Most of the commonly used quantities are automatically calculated (etendue of the LOS, VOS...) and it comes with built-in methods for plotting and computing synthetic data.</p>
<p>To compute the VOS, tofu tests all points inside a 3D grid to see if each point is visible from the detector through the apertures or not.
The meshed space is determined by the volume spanned by a LOS sampling of the VOS.
Then, a contour function is used to find the polygons limiting the cross-section and horizontal projections of the VOS.
Once computed, the viewing cones are assigned to attributes of the Detect instance.</p>
<p>In the particular case (1) when the LOS of the detector lies entirely inside one cross-section (e.g.: tomography diagnostics), tofu also computes the integral in the direction of the ignorable coordinate of the solid angle on a regular mesh (for faster computation of the geometry assuming toroidaly invariant basis functions).
This regular mesh is defined in 2D, by the distance between a mesh point and the detector (k) and by the poloidal angle between the LOS and the line going from the detector to the mesh point (psi)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Id</strong> (<em>str or tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to tfpf.ID()</li>
<li><strong>Poly</strong> (<em>dict or np.ndarray</em>) &#8211; <dl class="docutils">
<dt>Contains the information regarding the geometry of the Detect object</dt>
<dd><ul class="first last">
<li>np.ndarray: (2,N) or (N,2) defining the contour of the detector active surface in 3D (X,Y,Z) cartesian coordinates, if not closed, will be closed automatically, if Type=None</li>
<li>dict: dictionary of properties for a circular detector placed in the focal plane of a Lens on its axis, contains field &#8216;Rad&#8217;=float (radius), if Optics is Lens and Type=&#8217;Circ&#8217;</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Optics</strong> (<em>list or Lens</em>) &#8211; The optics to be associated to the detector, either a spherical <a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a> or a list of apertures <a class="reference internal" href="#tofu.geom.Apert" title="tofu.geom.Apert"><code class="xref py py-class docutils literal"><span class="pre">Apert</span></code></a></li>
<li><strong>Ves</strong> (<a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> or None) &#8211; <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object to which the detector is assigned</li>
<li><strong>Sino_RefPt</strong> (<em>np.ndarray or None</em>) &#8211; Array of size=2 containing the (R,Z) (for &#8216;Tor&#8217; Type) or (Y,Z) (for &#8216;Lin&#8217; Type) coordinates of the reference point for the sinogram</li>
<li><strong>CalcEtend</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to compute the etendue</li>
<li><strong>CalcSpanImp</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to compute the maximal span of the viewing volume</li>
<li><strong>CalcCone</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to compute the viewing volume or viewing cone and its two projections</li>
<li><strong>CalcPreComp</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to pre-compute a set of pre-defined points inside the viewing volume for faster computation of signal from 3D emissivity</li>
<li><strong>Calc</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to compute all the above</li>
<li><strong>Verb</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the creation of the object should be verbose (comments for each step)</li>
<li><strong>Etend_Method</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which numerical integration to use for the computation of the etendue (picked from scipy.integrate : &#8216;quad&#8217;, &#8216;simps&#8217;, &#8216;trapz&#8217;)</li>
<li><strong>Etend_RelErr</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; If Etend_Method=&#8217;quad&#8217;, specifies the maximum relative error to be tolerated on the value of the integral (i.e.: etendue)</li>
<li><strong>Etend_dX12</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; If Etend_Method in [&#8216;simps&#8217;,&#8217;trapz&#8217;], which implies a discretization of the plane perpendicular to the LOS, specifies the resolution of the discretization</li>
<li><strong>Etend_dX12Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; If Etend_Method in [&#8216;simps&#8217;,&#8217;trapz&#8217;], specifies whether Etend_dX12 should be iunderstood as an absolute distance (&#8216;abs&#8217;) or a fraction of the maximum width (&#8216;rel&#8217;)</li>
<li><strong>Etend_Ratio</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; The numerical integration is performed on an automatically-deterimned interval, this ratio (fraction of unity) is a safety margin to increase a bit the interval and make sure all non-zero values are included</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the collision detection mechanism should be considered when computing the VOS</li>
<li><strong>LOSRef</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Key indicating which of the <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> in the LOS dictionary should be considered as the reference LOS</li>
<li><strong>Cone_DRY</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution of the grid in the R (for &#8216;Tor&#8217; vessel types) or Y (for &#8216;Lin&#8217; vessel types) direction, in meters</li>
<li><strong>Cone_DXTheta</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution of the grid in the toroidal (for &#8216;Tor&#8217; vessel types, in radians) or X (for &#8216;Lin&#8217; vessel types, in meters) direction</li>
<li><strong>Cone_DZ</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution of the grid in the Z direction, in meters</li>
<li><strong>Cone_NPsi</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points of the regular mesh in psi direction (angle), in case (1)</li>
<li><strong>Cone_Nk</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
<li><strong>Type</strong> (<em>None / str</em>) &#8211; If the detector is associated to a <a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a>, it should be of type &#8216;Circ&#8217; (only circular shaped detectors are handled by tofu behind spherical lenses)</li>
<li><strong>Exp</strong> (<em>None or str</em>) &#8211; Experiment to which the Lens belongs, should be identical to Ves.Id.Exp if Ves is provided, if None and Ves is provided, Ves.Id.Exp is used</li>
<li><strong>Diag</strong> (<em>None or str</em>) &#8211; Diagnostic to which the Lens belongs</li>
<li><strong>shot</strong> (<em>None or int</em>) &#8211; Shot number from which this Lens is usable (in case its position was changed from a previous configuration)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>Clock</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the input polygon should be made clockwise (True) or counter-clockwise (False), default: False</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;), default: &#8216;C&#8217;</li>
<li><strong>dtime</strong> (<em>None or dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly)</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tofu.geom.Detect.BaryS">
<code class="descname">BaryS</code><a class="headerlink" href="#tofu.geom.Detect.BaryS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (surfacic) center of mass of the polygon (in 3D cartesian coordinates)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Cone_PolyCross">
<code class="descname">Cone_PolyCross</code><a class="headerlink" href="#tofu.geom.Detect.Cone_PolyCross" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the polygon that is the projection in a cross-section of the viewing cone</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Cone_PolyHor">
<code class="descname">Cone_PolyHor</code><a class="headerlink" href="#tofu.geom.Detect.Cone_PolyHor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the polygon that is the projection in a horizontal plane of the viewing cone</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Id">
<code class="descname">Id</code><a class="headerlink" href="#tofu.geom.Detect.Id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the associated tfpf.ID object</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.LOS">
<code class="descname">LOS</code><a class="headerlink" href="#tofu.geom.Detect.LOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dictionary of associated <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> objects</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.NP">
<code class="descname">NP</code><a class="headerlink" href="#tofu.geom.Detect.NP" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of points defining the polygon</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Optics">
<code class="descname">Optics</code><a class="headerlink" href="#tofu.geom.Detect.Optics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of associated Optics objects (<a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a> or list of <a class="reference internal" href="#tofu.geom.Apert" title="tofu.geom.Apert"><code class="xref py py-class docutils literal"><span class="pre">Apert</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.OpticsNb">
<code class="descname">OpticsNb</code><a class="headerlink" href="#tofu.geom.Detect.OpticsNb" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of associated Optics</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.OpticsType">
<code class="descname">OpticsType</code><a class="headerlink" href="#tofu.geom.Detect.OpticsType" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of associated Optics objects</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Poly">
<code class="descname">Poly</code><a class="headerlink" href="#tofu.geom.Detect.Poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the planar polygon defining the aperture (in 3D cartesian coordinates)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Rad">
<code class="descname">Rad</code><a class="headerlink" href="#tofu.geom.Detect.Rad" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the radius of the polygon (if Type=&#8217;Circ&#8217;, else None)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.SAngCross_Int">
<code class="descname">SAngCross_Int</code><a class="headerlink" href="#tofu.geom.Detect.SAngCross_Int" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integral of the solid angle at pre-computed points of the VOS in a cross-section projection</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.SAngCross_Points">
<code class="descname">SAngCross_Points</code><a class="headerlink" href="#tofu.geom.Detect.SAngCross_Points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pre-computed points of the VOS in a cross-section projection</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.SAngHor_Int">
<code class="descname">SAngHor_Int</code><a class="headerlink" href="#tofu.geom.Detect.SAngHor_Int" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integral of the solid angle at pre-computed points of the VOS in a horizontal projection</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.SAngHor_Points">
<code class="descname">SAngHor_Points</code><a class="headerlink" href="#tofu.geom.Detect.SAngHor_Points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pre-computed points of the VOS in a horizontal projection</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Sino_RefPt">
<code class="descname">Sino_RefPt</code><a class="headerlink" href="#tofu.geom.Detect.Sino_RefPt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates (R,Z) or (Y,Z) for Ves of Type &#8216;Tor&#8217; or (Y,Z) for Ves of Type &#8216;Lin&#8217; of the reference point used to compute the sinogram</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Surf">
<code class="descname">Surf</code><a class="headerlink" href="#tofu.geom.Detect.Surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the area of the polygon</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.Ves">
<code class="descname">Ves</code><a class="headerlink" href="#tofu.geom.Detect.Ves" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the associated <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.calc_Etendue_AlongLOS">
<code class="descname">calc_Etendue_AlongLOS</code><span class="sig-paren">(</span><em>Length='', NP=20, Modes=['trapz', 'quad'], RelErr=0.001, dX12=[0.005, 0.005], dX12Mode='abs', Ratio=0.02, Colis=True, LOSRef=None, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.calc_Etendue_AlongLOS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.calc_Etendue_AlongLOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the etendue computed at different points along the LOS, with various numerical methods, with or without collision detection</p>
<p>Computing the etendue along the LOS of a Detect object can be useful for checking whether the etendue is constant (as it should be if the LOS approximation is to be used).
Cases with non-constant etendue include in particular partially obstructed VOS in the divertor region of Tokamaks.
Also useful for debugging: if the etendue is not constant but the VOS is not obstructed, something might be wrong with the computation of the etendue or with the model (e.g.: for Lens optics).
Indeed, the model implemented for a Lens is ideal, but a close look at the etendue shows that the model is not perfect (but sufficiently accurate for most uses though).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Length</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to use the full length of the VOS (including partially obstructed parts: &#8216;&#8217;), or just the length of the LOS unil its exit point (&#8216;LOS&#8217;).</li>
<li><strong>NP</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points (uniformly distributed along the LOS) where the etendue should be computed</li>
<li><strong>Modes</strong> (<em>list or str</em>) &#8211; Flag or list of flags indicating which numerical integration methods shoud be used in [&#8216;quad&#8217;,&#8217;simps&#8217;,&#8217;trapz&#8217;]</li>
<li><strong>RelErr</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; For &#8216;quad&#8217;, a positive float defining the relative tolerance allowed</li>
<li><strong>dX12</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; For &#8216;simps&#8217; or &#8216;trapz&#8217;, a list of 2 floats defining the resolution of the sampling in X1 and X2</li>
<li><strong>dX12Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; For &#8216;simps&#8217; or&#8217;trapz&#8217;, &#8216;rel&#8217; or &#8216;abs&#8217;, if &#8216;rel&#8217; the resolution dX12 is in dimensionless units in [0;1] (hence a value of 0.1 means 10 discretisation points between the extremes), if &#8216;abs&#8217; dX12 is in meters</li>
<li><strong>Ratio</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; A float specifying the relative margin to be taken for integration boundaries</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
<li><strong>LOSRef</strong> (<em>None or str</em>) &#8211; Flag indicating which LOS should be used</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>Etend</strong> (<em>np.ndarray</em>) &#8211; Computed etendues</li>
<li><strong>Pts</strong> (<em>np.ndarray</em>) &#8211; (3,NP) array specifying the 3D (X,Y,Z) coordinates of the points along the LOS where the etendue was computed</li>
<li><strong>kPts</strong> (<em>np.ndarray</em>) &#8211; (NP,) array of the distance-coordinate k along the LOS</li>
<li><strong>LOSRef</strong> (<em>str</em>) &#8211; The LOS that was used</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.calc_SAngNb">
<code class="descname">calc_SAngNb</code><span class="sig-paren">(</span><em>Pts=None</em>, <em>Proj='Cross'</em>, <em>Slice='Int'</em>, <em>DRY=None</em>, <em>DXTheta=None</em>, <em>DZ=None</em>, <em>Colis=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.calc_SAngNb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.calc_SAngNb" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the solid angle subtended by the Detect+Optics system as seen for desired points, in a slice or integrated manner</p>
<p>Mostly useful in the <a class="reference internal" href="#tofu.geom.GDetect" title="tofu.geom.GDetect"><code class="xref py py-class docutils literal"><span class="pre">GDetect</span></code></a> object when there are several detectors.
Computes, for each point in the desired projection, the total solid angle subtended by all the detectors (or its integral) and the number of detectors that &#8216;see&#8217; each point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Pts</strong> (<em>None / np.ndarray</em>) &#8211; (3,N) array of cartesian (X,Y,Z) coordinates of the provided N points, if None a default set of points is computed according to DRY, DXTheta and DZ</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating to which projection of the VOS the method should be applied</li>
<li><strong>Slice</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to compute the solid angle (&#8216;Slice&#8217;), the maximum solid angle along the ignorable coordinate (&#8216;Max&#8217;), or the integral over the ignorable coordinate (&#8216;Int&#8217;)</li>
<li><strong>DRY</strong> (<em>None / float</em>) &#8211; Resolution (in horizontal direction of the cross-section) of the mesh to be constructed if the points are not provided</li>
<li><strong>DXTheta</strong> (<em>None / float</em>) &#8211; Resolution (in ignorable coordinate direction) of the mesh to be constructed if the points are not provided</li>
<li><strong>DZ</strong> (<em>None / float</em>) &#8211; Resolution (in vertical direction) of the mesh to be constructed if the points are not provided</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>SA</strong> (<em>np.ndarray</em>) &#8211; Array of (ND,NP) solid angle values, where ND is the number of detectors and NP the number of points</li>
<li><strong>Nb</strong> (<em>np.ndarray</em>) &#8211; Array of (ND,NP) booleans, True if a point is seen by a detector</li>
<li><strong>Pts</strong> (<em>np.ndarray</em>) &#8211; The computed points (in case they were not provided)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.calc_SAngVect">
<code class="descname">calc_SAngVect</code><span class="sig-paren">(</span><em>Pts</em>, <em>In='(X</em>, <em>Y</em>, <em>Z)'</em>, <em>Colis=True</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.calc_SAngVect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.calc_SAngVect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Solid Angle of the Detect-Apert system as seen from the specified points, including collisions detection or not</p>
<p>Compute the solid angle and the directing vector subtended by the Detect-Optics system as seen from the desired points (provided in the specified coordinates).
This can be useful for visualizing the solid angle distribution or for computing synthetic signal from simulated emissivity in a 3D numerical integration manner.
The automtic detection of collisions with the edges of the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object can be switched off (not recommended).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Pts</strong> (<em>np.ndarray</em>) &#8211; (2,N) or (3,N) array of coordinates of the provided N points</li>
<li><strong>In</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating in which coordinate system the Pts are provided, must be in [&#8216;(R,Z)&#8217;,&#8217;(X,Y,Z)&#8217;,&#8217;(R,phi,Z)&#8217;]</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be activated</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>SAng</strong> (<em>np.ndarray</em>) &#8211; (N,) array of floats, the computed solid angles</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.calc_Sig">
<code class="descname">calc_Sig</code><span class="sig-paren">(</span><em>ff, extargs={}, Method='Vol', Mode='simps', PreComp=True, epsrel=0.0001, dX12=[0.005, 0.005], dX12Mode='abs', ds=0.005, dsMode='abs', MarginS=0.001, Colis=True, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.calc_Sig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.calc_Sig" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the signal computed from an input emissivity function, using a 3D or LOS method</p>
<p>The synthetic signal resulting from a simulated emissivity can be computed automatically in several ways.
The user can choose between a VOS and a LOS approach (volume integration or line integration with etendue).
In each case the user can choose between the numerical integration method (from scipy.integrate + np.sum()).
It is possible to specify that, for a VOS approach, you want to use the pre-conputed mesh for faster computation (see <a class="reference internal" href="#tofu.geom.Detect.set_SigPrecomp" title="tofu.geom.Detect.set_SigPrecomp"><code class="xref py py-meth docutils literal"><span class="pre">set_SigPrecomp()</span></code></a>).
For a VOS approach, the user can specify how fine the discretization should be.
The collision detection with the edges of the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object can be switched off (not recommended).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ff</strong> (<em>function</em>) &#8211; <dl class="docutils">
<dt>Input emissiviy function, should take one input as follows:</dt>
<dd><ul class="first last">
<li>ff(Pts), where Points is a np.ndarray of shape=(3,N), with the (X,Y,Z) coordinates of any N number of points</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Method</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the spatial integration should be done with a volume (&#8216;Vol&#8217;) or a LOS (&#8216;LOS&#8217;) approach</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating the numerical integration method in [&#8216;quad&#8217;,&#8217;simps&#8217;,&#8217;trapz&#8217;,&#8217;nptrapz&#8217;,&#8217;sum&#8217;]</li>
<li><strong>PreComp</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the pre-computed grid should be used</li>
<li><strong>epsrel</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Float specifying the tolerated relative error on the numerical integration, used for &#8216;quad&#8217;</li>
<li><strong>dX12</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; Array of the 2 resolutions to be used to define the grid in a plane perpendicular to the LOS</li>
<li><strong>dX12Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether the values in dX12 are absolute distances or relative values (i.e. fraction of the total width [0;1])</li>
<li><strong>ds</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Float indicating the resolution in the longitudinal direction</li>
<li><strong>dsMode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether ds is an absolute distance or relative (i.e. fraction of the total length [0;1])</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Sig</strong> (<em>float</em>) &#8211; The computed signal</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.isInside">
<code class="descname">isInside</code><span class="sig-paren">(</span><em>Points</em>, <em>In='(X</em>, <em>Y</em>, <em>Z)'</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.isInside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.isInside" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of indices indicating whether each point lies both in the cross-section and horizontal porojections of the viewing cone</p>
<p>Like for the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object, points can be provided in 2D or 3D coordinates (specified by &#8216;In&#8217;), and an array of booleans is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Points</strong> (<em>np.ndarray</em>) &#8211; (2,N) or (3,N) array of coordinates of the N points to be tested</li>
<li><strong>In</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag indicating in which coordinate system the Points are provided, must be in [&#8216;(R,Z)&#8217;,&#8217;(Y,Z)&#8217;,&#8217;(X,Y)&#8217;,&#8217;(X,Y,Z)&#8217;,&#8217;(R,phi,Z)&#8217;]</dt>
<dd><ul class="first last">
<li>&#8216;(R,Z)&#8217;: All points are assumed to lie in the horizontal projection, for &#8216;Tor&#8217; vessel type only</li>
<li>&#8216;(Y,Z)&#8217;: All points are assumed to lie in the horizontal projection, for &#8216;Lin&#8217; vessel type only</li>
<li>&#8216;(X,Y)&#8217;: All points are assumed to lie in the cross-section projection</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ind</strong> (<em>np.ndarray</em>) &#8211; (N,) array of booleans with True if a point lies inside both projections of the viewing cone</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.Detect.nIn">
<code class="descname">nIn</code><a class="headerlink" href="#tofu.geom.Detect.nIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the normalized vector perpendicular to the polygon surface and oriented towards the interior of the associated vessel (in 3D cartesian coordinates)</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Elt='PVC', EltLOS='LDIORP', EltOptics='P', EltVes='', Leg=None, LOSRef=None, Pdict={'lw': 2, 'c': 'k', 'ls': 'solid'}, Vdict={'color': 'r', 'lw': 2, 'ls': 'solid'}, Cdict={'edgecolors': 'k', 'antialiaseds': False, 'linestyles': '-', 'linewidths': 0.0, 'alpha': 0.2, 'facecolors': (0.8, 0.8, 0.8, 0.2)}, LVIn=0.1, LOSdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'EltVes': '', 'Proj': 'All', 'Test': True, 'Elt': 'LDIORP', 'MdictP': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictR': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Leg': '', 'Lplot': 'Tot', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'MdictI': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Ldict': {'lw': 2, 'c': 'k'}, 'MdictO': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictD': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}}, Opticsdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'Pdict': {'lw': 2, 'c': 'k', 'ls': 'solid'}, 'Vdict': {'color': 'r', 'lw': 2, 'ls': 'solid'}, 'EltVes': '', 'Leg': '', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'LVIn': 0.1, 'Test': True, 'Elt': 'PV', 'Proj': 'All'}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the Detect instance in a projection or in 3D, its polygon, perpendicular vector, projected viewing cones and optionally its <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a>, <a class="reference internal" href="#tofu.geom.Apert" title="tofu.geom.Apert"><code class="xref py py-class docutils literal"><span class="pre">Apert</span></code></a>, and <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> objects</p>
<p>The Detect instance can be plotted in a cross-section or horizontal projection, or in 3D.
Several of its attributes can be plotted too using the usual &#8216;Elt&#8217; keyword argument.
Dedicated &#8216;Elt&#8217; keyword arguments are also usable to specify the elements to be plotted for sub-classes like <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a>, <a class="reference internal" href="#tofu.geom.Apert" title="tofu.geom.Apert"><code class="xref py py-class docutils literal"><span class="pre">Apert</span></code></a>, and <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a>.
Dedicated dictionary help specify how each element sshould be plotted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>None, plt.Axes or list</em>) &#8211; Axes or list of axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot the cross-section (&#8216;Cross&#8217;), the horizontal projection (&#8216;Hor&#8217;), both (&#8216;All&#8217;) or a 3D representation (&#8216;3D&#8217;)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag indicating which elements of the Detect instance to plot, each capital letter stands for an element</dt>
<dd><ul class="first last">
<li>&#8216;P&#8217;: polygon</li>
<li>&#8216;V&#8217;: perpendicular vector</li>
<li>&#8216;C&#8217;: viewing cone</li>
</ul>
</dd>
</dl>
</li>
<li><strong>EltLOS</strong> (<em>None or str</em>) &#8211; Flag indicating which elements of the LOS to plot, will be fed to LOS.plot(), if None uses the &#8216;Elt&#8217; arg of LOSdict instead</li>
<li><strong>EltOptics</strong> (<em>None or str</em>) &#8211; Flag indicating which elements of the Aperts to plot, will be fed to Apert.plot(), if None uses the &#8216;Elt&#8217; arg of Apertdict instead</li>
<li><strong>EltVes</strong> (<em>None or str</em>) &#8211; Flag indicating which elements of the Ves to plot, will be fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, if None uses the &#8216;Elt&#8217; arg of Vesdict instead</li>
<li><strong>Leg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Legend to be used for the detector, if &#8216;&#8217; the Detect.iD.Name is used</li>
<li><strong>LOSRef</strong> (<em>None or str</em>) &#8211; Flag indicating which LOS should be represented, if None Detect._LOSRef is used</li>
<li><strong>Pdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Polygon</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Vector</li>
<li><strong>Cdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Cone</li>
<li><strong>LVIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Length of the Vector</li>
<li><strong>LOSdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the LOS if EltLOS is not &#8216;&#8217;, fed to LOS.plot()</li>
<li><strong>Apertdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Apert if EltOptics is not &#8216;&#8217;, fed to Apert.plot()</li>
<li><strong>Vesdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Ves if EltVes is not &#8216;&#8217;, fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></li>
<li><strong>LegDict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the legend, fed to plt.legend()</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the default figure should be of size a4 paper</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>Lax     plt.Axes or list</em> &#8211; Axes or list of axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.plot_Etend_AlongLOS">
<code class="descname">plot_Etend_AlongLOS</code><span class="sig-paren">(</span><em>ax=None, NP=20, kMode='rel', Modes=['trapz'], Length='', RelErr=0.001, dX12=[0.005, 0.005], dX12Mode='abs', Ratio=0.02, LOSRef=None, LOSPts=True, Ldict={'lw': 2, 'c': 'k', 'ls': 'solid'}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, Colis=True, draw=True, a4=True, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.plot_Etend_AlongLOS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.plot_Etend_AlongLOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the etendue of the selected LOS along it, with or without collision detection</p>
<p>The number of points along the LOS where the etendue is computed can be specified via arguments, as well as the numerical integration method.
Arguments Length, NP, Modes, RelErr, dX12, dX12Mode, Ratio, Colis, LOSRef are fed to <a class="reference internal" href="#tofu.geom.Detect.calc_Etendue_AlongLOS" title="tofu.geom.Detect.calc_Etendue_AlongLOS"><code class="xref py py-meth docutils literal"><span class="pre">calc_Etendue_AlongLOS()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; Axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>kMode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the distance on the line should be plotted as abolute distance (&#8216;abs&#8217;) or relative to the total length (&#8216;rel&#8217;)</li>
<li><strong>Ldict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for plotting the result</li>
<li><strong>LegDict</strong> (<em>None / dict</em>) &#8211; If None, no legend is plotted, else LegDict is fed to :meth:&#8217;~matplotlib.pyplot.Axes.legend&#8217;</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the created figure should have a4 dimensions (useful for printing)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.plot_SAngNb">
<code class="descname">plot_SAngNb</code><span class="sig-paren">(</span><em>Lax=None, Proj='Cross', Slice='Int', Pts=None, plotfunc='scatter', DRY=None, DXTheta=None, DZ=None, Elt='P', EltVes='P', EltLOS='', EltOptics='P', Pdict={'lw': 2, 'c': 'k', 'ls': 'solid'}, Vdict={'color': 'r', 'lw': 2, 'ls': 'solid'}, Cdict={'edgecolors': 'k', 'antialiaseds': False, 'linestyles': '-', 'linewidths': 0.0, 'alpha': 0.2, 'facecolors': (0.8, 0.8, 0.8, 0.2)}, LVIn=0.1, LOSdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'EltVes': '', 'Proj': 'All', 'Test': True, 'Elt': 'LDIORP', 'MdictP': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictR': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Leg': '', 'Lplot': 'Tot', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'MdictI': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Ldict': {'lw': 2, 'c': 'k'}, 'MdictO': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictD': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}}, Opticsdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'Pdict': {'lw': 2, 'c': 'k', 'ls': 'solid'}, 'Vdict': {'color': 'r', 'lw': 2, 'ls': 'solid'}, 'EltVes': '', 'Leg': '', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'LVIn': 0.1, 'Test': True, 'Elt': 'PV', 'Proj': 'All'}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, CDictSA=None, CDictNb=None, Colis=True, a4=False, draw=True, Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.plot_SAngNb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.plot_SAngNb" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the solid angle projections (integrated &#8216;Int&#8217; or maximum &#8216;Max&#8217;) as well as the number of detectors visible from each point in the plasma</p>
<p>Mostly useful with the <a class="reference internal" href="#tofu.geom.GDetect" title="tofu.geom.GDetect"><code class="xref py py-class docutils literal"><span class="pre">GDetect</span></code></a> object, used to visualize the goemetrical coverage in terms of total solid angle and number of detectors &#8216;seeing&#8217; each point for a set of detectors (see <a class="reference internal" href="#tofu.geom.Detect.calc_SAngNb" title="tofu.geom.Detect.calc_SAngNb"><code class="xref py py-meth docutils literal"><span class="pre">calc_SAngNb()</span></code></a> method for details).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>None or list or plt.Axes</em>) &#8211; Axes or list of Axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot the cross-section (&#8216;Cross&#8217;) or the horizontal projection (&#8216;Hor&#8217;)</li>
<li><strong>Mode</strong> (<em>str, None or float</em>) &#8211; <dl class="docutils">
<dt>Flag indicating whether to plot:</dt>
<dd><ul class="first last">
<li>&#8216;Int&#8217;: the integrated value along the projected coordinates</li>
<li>&#8216;Max&#8217;: the maximum value along the projected coordinates</li>
<li>float: the projected coordinate at which to plot the slice (Theta or X if Proj=&#8217;Cross&#8217;, Z if Proj=&#8217;Hor&#8217;)</li>
<li>None: the slice is done in the middle of the viewing volume</li>
</ul>
</dd>
</dl>
</li>
<li><strong>plotfunc</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which plotting method to use (&#8216;scatter&#8217;, &#8216;contour&#8217;, &#8216;contourf&#8217; or &#8216;imshow&#8217;)</li>
<li><strong>DCross</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution along the 1st cross-section coordinate (R for Type=&#8217;Tor&#8217;, Y for Type=&#8217;Lin&#8217;)</li>
<li><strong>DXTheta</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution along the ignorable coordinate (Theta for Type=&#8217;Tor&#8217;, X for Type=&#8217;Lin&#8217;)</li>
<li><strong>DZ</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Vertical resolution (for both Types)</li>
<li><strong>CDictSA</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Properties of the solid angle plot, to be fed to the function chosen by plotfunc</li>
<li><strong>CDictNb</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Properties of the Nb plot, to be fed to the chsoen plotting routine</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to use a4 dimensions to create a new figure if Lax=None</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Lax</strong> (<em>plt.Axes or list</em>) &#8211; List of the axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.plot_Sinogram">
<code class="descname">plot_Sinogram</code><span class="sig-paren">(</span><em>ax=None</em>, <em>Proj='Cross'</em>, <em>Elt='DLV'</em>, <em>Ang='theta'</em>, <em>AngUnit='rad'</em>, <em>Sketch=True</em>, <em>Ddict={'lw': 1</em>, <em>'c': 'k'</em>, <em>'ls': 'solid'}</em>, <em>Ldict={'c': 'k'</em>, <em>'markersize': 8</em>, <em>'lw': 2</em>, <em>'mew': 2</em>, <em>'ls': 'None'</em>, <em>'marker': 'x'}</em>, <em>Vdict={'edgecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)</em>, <em>'linewidth': 1</em>, <em>'linestyle': 'solid'</em>, <em>'facecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)}</em>, <em>LegDict={'loc': 2</em>, <em>'bbox_to_anchor': (1.01</em>, <em>1)</em>, <em>'prop': {'size': 10}</em>, <em>'ncol': 1</em>, <em>'borderaxespad': 0.0</em>, <em>'frameon': False}</em>, <em>LOSRef=None</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.plot_Sinogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.plot_Sinogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the the Detect VOS in projection space, optionally also the associated <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object and reference LOS</p>
<p>In projection space, a VOS is a patch (as opposed to a LOS which is a point).
The patch is estimated by plotting a large number of LOS sampling the VOS and taking the convex hull of the resulting points on projection space.
Notice that this method results in irrelevant patches for VOS lying at the edges of the projection space.
See <a class="reference internal" href="#tofu.geom.LOS.plot_Sinogram" title="tofu.geom.LOS.plot_Sinogram"><code class="xref py py-meth docutils literal"><span class="pre">plot_Sinogram()</span></code></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ax</strong> (<em>None / plt.Axes</em>) &#8211; Axes on which to plot the Etendue, if None a default axes is created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot the traditional sinogram in a cross-section (&#8216;Cross&#8217;) or a 3D sinogram (&#8216;3d&#8217;), cannot be &#8216;3d&#8217; if &#8216;D&#8217; in Elt.</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flags indicating whether to plot the VOS of the Detect (&#8216;D&#8217; in Elt =&gt; only Proj=&#8217;Cross&#8217;), the LOS (&#8216;L&#8217; in Elt) and the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> (&#8216;V&#8217; in Elt)</li>
<li><strong>Ang</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which angle to use for the plot, with respect to the considered line () or to the impact parameter line ()</li>
<li><strong>AngUnit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the angle should be measured in &#8216;rad&#8217; or &#8216;deg&#8217;</li>
<li><strong>Sketch</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether a small sketch illustrating the definitions of angles and impact parameter should be included</li>
<li><strong>Ddict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Plotting properties of the VOS of the Detect, fed to plt.plot()</li>
<li><strong>Ldict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Plotting properties of the LOS, fed to plt.plot()</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Plotting properties of the Ves, fed to plt.plot()</li>
<li><strong>LegDict</strong> (<em>None / dict</em>) &#8211; Plotting properties of the legend, if None no legend is plotted</li>
<li><strong>LOSRef</strong> (<em>None / str</em>) &#8211; Flag indicating which LOS to plot, if None self._LOSRef is used</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the created figure should have a4 dimensions (useful for printing)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.refine_ConePoly">
<code class="descname">refine_ConePoly</code><span class="sig-paren">(</span><em>dMax=0.02</em>, <em>Proj='Cross'</em>, <em>indPoly=0</em>, <em>Verb=True</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.refine_ConePoly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.refine_ConePoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce the number of points of the selected Cone_Poly projection using the provided maximum distance and checking for convexity</p>
<p>Provide a built-in method to simplify the 2 projections of the viewing cone (VOS).
In its raw form, the projection of the VOS is a polygon with potentially a high number of points (computed using matplotlib._cntr() function).
A re-sampled version of this polygon is computed by taking its convex hull and checking, for each edge, how far it is from the original edge.
Each edge (2 points) of the convex hull is then compared to the set of original edges it encloses.
If the maximum distance between this convex hull-derived edge and the original set of edges is smaller than dMax, then the convex hull-derived egde is used, otherwise the original edges are preserved.
The method does not return a value, instead it assigns the new polygon to a dedicated attribute of the object, thus ensuring that both the original and the re-sampled projections of the VOS are available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dMax</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Threshold absolute distance that limits the acceptable discrepancy between the original polygon and its convex hull (checked for each edge of the convex hull)</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating to which projection of the VOS the method should be applied</li>
<li><strong>indPoly</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the polygon to be treated (i.e.: in case one projection of the VOS results in a list of several polygons instead of just one polygon as is usually the case)</li>
<li><strong>Verb</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether a one-line comment should be printed at the end of the calculation giving the number of points of the new polygon vs the number of points of the original polygon</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em>, <em>SynthDiag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()
In the case of Detect and GDetect instances, there is an additional keyword argument &#8216;SynthDiag&#8217; which allows to <strong>not</strong> save the pre-computed 3D mesh of the VOS for synthetic diagnostic.
Indeed, this pre-computed data is often large and results in big files. Not saving it results in significantly smaller files, and it can be re-computed when loading the instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
<li><strong>SynthDiag</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the pre-computed mesh for synthetic diagnostics calculations shall be saved too (can be heavy, if False, it will be re-computed when opening the saved object)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.Detect.set_SigPrecomp">
<code class="descname">set_SigPrecomp</code><span class="sig-paren">(</span><em>CalcPreComp=True</em>, <em>dX12=None</em>, <em>dX12Mode=None</em>, <em>ds=None</em>, <em>dsMode=None</em>, <em>MarginS=None</em>, <em>Colis=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#Detect.set_SigPrecomp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.Detect.set_SigPrecomp" title="Permalink to this definition">¶</a></dt>
<dd><p>Precompute a 3D grid for fast integration of a 3D emissivity for a synthetic diagnostic approach</p>
<p>In order to accelerate the computation of synthetic signal from simulated emissivity, it is possible to pre-compute a discretisation of the VOS (mesh points + solid angle) and store it as an attribute of the Detect object.
While such pre-computation does speed-up significantly the numerical integration, it also burdens the object with heavy attributes that can make it too big to save.
Hence, the saving method has a special argument that allows to specify that these pre-computed attributes should not be saved but should instead be re-computed automatically when loading the file.
The parameters dX12, dX12Mode, ds and dsMode give the user control over how fine the discretization of the VOS should be, which affects both the accuracy of the numerical integration and the size of the resulting mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>CalcPreComp</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the pre-computation should be run</li>
<li><strong>dX12</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; Array of the 2 resolutions to be used to define the grid in a plane perpendicular to the LOS</li>
<li><strong>dX12Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether the values in dX12 are absolute distances or relative values (i.e. fraction of the total width [0;1])</li>
<li><strong>ds</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Float indicating the resolution in the longitudinal direction</li>
<li><strong>dsMode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether ds is an absolute distance or relative (i.e. fraction of the total length [0;1])</li>
<li><strong>MarginS</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Float specifying</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tofu.geom.GDetect">
<em class="property">class </em><code class="descclassname">tofu.geom.</code><code class="descname">GDetect</code><span class="sig-paren">(</span><em>Id</em>, <em>LDetect</em>, <em>Type=None</em>, <em>Exp=None</em>, <em>Diag=None</em>, <em>shot=None</em>, <em>Sino_RefPt=None</em>, <em>LOSRef=None</em>, <em>arrayorder='C'</em>, <em>Clock=False</em>, <em>dtime=None</em>, <em>dtimeIn=False</em>, <em>SavePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect" title="Permalink to this definition">¶</a></dt>
<dd><p>An object grouping a list of <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> objects with some common features (e.g.: all belong to the same camera) and the same <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object, provides methods for common computing and plotting</p>
<p>A GDetect object is a convenient tool for managing groups of detectors, applying common treatment, plotting...
It is typically suited for a camera (e.g.: a group of detectors sharing a common aperture)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Id</strong> (<em>str or tfpf.ID</em>) &#8211; A name string or a pre-built tfpf.ID class to be used to identify this particular instance, if a string is provided, it is fed to <a class="reference internal" href="Auto_tofu.pathfile.html#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal"><span class="pre">ID</span></code></a></li>
<li><strong>LDetect</strong> (<em>list or Detect</em>) &#8211; List of Detect instances with the same <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> instance</li>
<li><strong>Type</strong> (<a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)"><em>None</em></a>) &#8211; Not used in the current verion of tofu</li>
<li><strong>Exp</strong> (<em>None or str</em>) &#8211; Experiment to which the Lens belongs, should be identical to Ves.Id.Exp if Ves is provided, if None and Ves is provided, Ves.Id.Exp is used</li>
<li><strong>Diag</strong> (<em>None or str</em>) &#8211; Diagnostic to which the Lens belongs</li>
<li><strong>shot</strong> (<em>None or int</em>) &#8211; Shot number from which this Lens is usable (in case its position was changed from a previous configuration)</li>
<li><strong>SavePath</strong> (<em>None / str</em>) &#8211; If provided, forces the default saving path of the object to the provided value</li>
<li><strong>Sino_RefPt</strong> (<em>None or iterable</em>) &#8211; If provided, forces the common <a class="reference internal" href="#tofu.geom.Detect.Sino_RefPt" title="tofu.geom.Detect.Sino_RefPt"><code class="xref py py-attr docutils literal"><span class="pre">Sino_RefPt</span></code></a> to the provided value for all <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances</li>
<li><strong>arrayorder</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the attributes of type=np.ndarray (e.g.: Poly) should be made C-contiguous (&#8216;C&#8217;) or Fortran-contiguous (&#8216;F&#8217;)</li>
<li><strong>dtime</strong> (<em>None or dtm.datetime</em>) &#8211; A time reference to be used to identify this particular instance (used for debugging mostly)</li>
<li><strong>dtimeIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether dtime should be included in the SaveName (used for debugging mostly)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="tofu.geom.GDetect.Id">
<code class="descname">Id</code><a class="headerlink" href="#tofu.geom.GDetect.Id" title="Permalink to this definition">¶</a></dt>
<dd><p>the associated tfpf.ID object</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.GDetect.LDetect">
<code class="descname">LDetect</code><a class="headerlink" href="#tofu.geom.GDetect.LDetect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances the GDetect object comprises</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.GDetect.Optics">
<code class="descname">Optics</code><a class="headerlink" href="#tofu.geom.GDetect.Optics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of optics the GDetect object comprises (either <a class="reference internal" href="#tofu.geom.Lens" title="tofu.geom.Lens"><code class="xref py py-class docutils literal"><span class="pre">Lens</span></code></a> or <a class="reference internal" href="#tofu.geom.Apert" title="tofu.geom.Apert"><code class="xref py py-class docutils literal"><span class="pre">Apert</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.GDetect.Sino_RefPt">
<code class="descname">Sino_RefPt</code><a class="headerlink" href="#tofu.geom.GDetect.Sino_RefPt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinates (R,Z) or (Y,Z) for Ves of Type &#8216;Tor&#8217; or (Y,Z) for Ves of Type &#8216;Lin&#8217; of the reference point used to compute the sinogram</p>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.GDetect.Ves">
<code class="descname">Ves</code><a class="headerlink" href="#tofu.geom.GDetect.Ves" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> instance associated to the GDetect object</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.calc_SAngVect">
<code class="descname">calc_SAngVect</code><span class="sig-paren">(</span><em>Pts</em>, <em>In='(X</em>, <em>Y</em>, <em>Z)'</em>, <em>Colis=True</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.calc_SAngVect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.calc_SAngVect" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <a class="reference internal" href="#tofu.geom.Detect.calc_SAngVect" title="tofu.geom.Detect.calc_SAngVect"><code class="xref py py-meth docutils literal"><span class="pre">calc_SAngVect()</span></code></a> to all <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances</p>
<p>Return the result as two 2D arrays where the first dimension is the number of <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances
see <a class="reference internal" href="#tofu.geom.Detect.calc_SAngVect" title="tofu.geom.Detect.calc_SAngVect"><code class="xref py py-meth docutils literal"><span class="pre">calc_SAngVect()</span></code></a> for details</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.calc_Sig">
<code class="descname">calc_Sig</code><span class="sig-paren">(</span><em>ff, extargs={}, Method='Vol', Mode='simps', PreComp=True, epsrel=0.0001, dX12=[0.005, 0.005], dX12Mode='abs', ds=0.005, dsMode='abs', MarginS=0.001, Colis=True, Test=True, ind=None, Val=None, Crit='Name', PreExp=None, PostExp=None, Log='any', InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.calc_Sig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.calc_Sig" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <a class="reference internal" href="#tofu.geom.Detect.calc_Sig" title="tofu.geom.Detect.calc_Sig"><code class="xref py py-meth docutils literal"><span class="pre">calc_Sig()</span></code></a> to all <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances</p>
<p>See <a class="reference internal" href="#tofu.geom.Detect.calc_Sig" title="tofu.geom.Detect.calc_Sig"><code class="xref py py-meth docutils literal"><span class="pre">calc_Sig()</span></code></a> for details
Arguments ind, Val, Crit, PreExp, PostExp, Log and InOut are fed to <a class="reference internal" href="#tofu.geom.GDetect.select" title="tofu.geom.GDetect.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.get_GLOS">
<code class="descname">get_GLOS</code><span class="sig-paren">(</span><em>Name=None</em>, <em>LOSRef=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.get_GLOS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.get_GLOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#tofu.geom.GLOS" title="tofu.geom.GLOS"><code class="xref py py-class docutils literal"><span class="pre">GLOS</span></code></a> instance that can be built by grouping the <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a> of each <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instance</p>
<p>Can be useful for handling a GLOS instead of a GDetect (heavier) instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Name</strong> (<em>None / str</em>) &#8211; Name to be given to the GLOS instance, if None a name is built from the name of the GDetect object by appending &#8216;_GLOS&#8217;</li>
<li><strong>LOSRef</strong> (<em>None / str</em>) &#8211; Key indicating which LOS to be used, if None the default LOSRef is used</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>glos</strong> (<a class="reference internal" href="#tofu.geom.GLOS" title="tofu.geom.GLOS"><code class="xref py py-class docutils literal"><span class="pre">GLOS</span></code></a>) &#8211; The constructed <a class="reference internal" href="#tofu.geom.GLOS" title="tofu.geom.GLOS"><code class="xref py py-class docutils literal"><span class="pre">GLOS</span></code></a> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.isInside">
<code class="descname">isInside</code><span class="sig-paren">(</span><em>Points</em>, <em>In='(X</em>, <em>Y</em>, <em>Z)'</em>, <em>Test=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.isInside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.isInside" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of indices indicating whether each point lies both in the cross-section and horizontal porojections of the viewing cone of each <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a></p>
<p>see <a class="reference internal" href="#tofu.geom.Detect.isInside" title="tofu.geom.Detect.isInside"><code class="xref py py-meth docutils literal"><span class="pre">isInside()</span></code></a> for details</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Points</strong> (<em>np.ndarray</em>) &#8211; (2,N) or (3,N) array of coordinates of the N points to be tested</li>
<li><strong>In</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag indicating in which coordinate system the Points are provided, must be in [&#8216;(R,Z)&#8217;,&#8217;(Y,Z)&#8217;,&#8217;(X,Y)&#8217;,&#8217;(X,Y,Z)&#8217;,&#8217;(R,phi,Z)&#8217;]</dt>
<dd><ul class="first last">
<li>&#8216;(R,Z)&#8217;: All points are assumed to lie in the horizontal projection, for &#8216;Tor&#8217; vessel type only</li>
<li>&#8216;(Y,Z)&#8217;: All points are assumed to lie in the horizontal projection, for &#8216;Lin&#8217; vessel type only</li>
<li>&#8216;(X,Y)&#8217;: All points are assumed to lie in the cross-section projection</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ind</strong> (<em>np.ndarray</em>) &#8211; (ND,N) array of booleans with True if a point lies inside both projections of the viewing cone, where ND is the number of Detect instances</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tofu.geom.GDetect.nDetect">
<code class="descname">nDetect</code><a class="headerlink" href="#tofu.geom.GDetect.nDetect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances the GDetect object comprises</p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>Lax=None, Proj='All', Elt='PVC', EltLOS='LDIORP', EltOptics='P', EltVes='', Leg=None, LOSRef=None, Pdict={'lw': 2, 'c': 'k', 'ls': 'solid'}, Vdict={'color': 'r', 'lw': 2, 'ls': 'solid'}, Cdict={'edgecolors': 'k', 'antialiaseds': False, 'linestyles': '-', 'linewidths': 0.0, 'alpha': 0.2, 'facecolors': (0.8, 0.8, 0.8, 0.2)}, LVIn=0.1, LOSdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'EltVes': '', 'Proj': 'All', 'Test': True, 'Elt': 'LDIORP', 'MdictP': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictR': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Leg': '', 'Lplot': 'Tot', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'MdictI': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Ldict': {'lw': 2, 'c': 'k'}, 'MdictO': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictD': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}}, Opticsdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'Pdict': {'lw': 2, 'c': 'k', 'ls': 'solid'}, 'Vdict': {'color': 'r', 'lw': 2, 'ls': 'solid'}, 'EltVes': '', 'Leg': '', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'LVIn': 0.1, 'Test': True, 'Elt': 'PV', 'Proj': 'All'}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True, ind=None, Val=None, Crit='Name', PreExp=None, PostExp=None, Log='any', InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot all or a subset of the Detect instances in a projection or in 3D</p>
<p>See <a class="reference internal" href="#tofu.geom.Detect.plot" title="tofu.geom.Detect.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a> for details
Arguments ind, Val, Crit, PreExp, PostExp, Log and InOut are fed to <a class="reference internal" href="#tofu.geom.GDetect.select" title="tofu.geom.GDetect.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>None, plt.Axes or list</em>) &#8211; Axes or list of axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot the cross-section (&#8216;Cross&#8217;), the horizontal projection (&#8216;Hor&#8217;), both (&#8216;All&#8217;) or a 3D representation (&#8216;3D&#8217;)</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <dl class="docutils">
<dt>Flag indicating which elements of the Detect instance to plot, each capital letter stands for an element</dt>
<dd><ul class="first last">
<li>&#8216;P&#8217;: polygon</li>
<li>&#8216;V&#8217;: perpendicular vector</li>
<li>&#8216;C&#8217;: viewing cone</li>
</ul>
</dd>
</dl>
</li>
<li><strong>EltLOS</strong> (<em>None or str</em>) &#8211; Flag indicating which elements of the LOS to plot, will be fed to LOS.plot(), if None uses the &#8216;Elt&#8217; arg of LOSdict instead</li>
<li><strong>EltOptics</strong> (<em>None or str</em>) &#8211; Flag indicating which elements of the Aperts to plot, will be fed to Apert.plot(), if None uses the &#8216;Elt&#8217; arg of Apertdict instead</li>
<li><strong>EltVes</strong> (<em>None or str</em>) &#8211; Flag indicating which elements of the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> to plot, will be fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, if None uses the &#8216;Elt&#8217; arg of Vesdict instead</li>
<li><strong>Leg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Legend to be used for the detector, if &#8216;&#8217; the Detect.iD.Name is used</li>
<li><strong>LOSRef</strong> (<em>None or str</em>) &#8211; Flag indicating which LOS should be represented, if None Detect._LOSRef is used</li>
<li><strong>Pdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Polygon</li>
<li><strong>Vdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Vector</li>
<li><strong>Cdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Cone</li>
<li><strong>LVIn</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Length of the Vector</li>
<li><strong>LOSdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the LOS if EltLOS is not &#8216;&#8217;, fed to LOS.plot()</li>
<li><strong>Apertdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the Apert if EltOptics is not &#8216;&#8217;, fed to Apert.plot()</li>
<li><strong>Vesdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> if EltVes is not &#8216;&#8217;, fed to <a class="reference internal" href="#tofu.geom.Ves.plot" title="tofu.geom.Ves.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></li>
<li><strong>LegDict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for the legend, fed to plt.legend()</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the default figure should be of size a4 paper</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>Lax     plt.Axes or list</em> &#8211; Axes or list of axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.plot_Etend_AlongLOS">
<code class="descname">plot_Etend_AlongLOS</code><span class="sig-paren">(</span><em>ax=None, NP=20, kMode='rel', Modes=['trapz'], RelErr=None, dX12=None, dX12Mode=None, Ratio=None, LOSRef=None, LOSPts=True, Ldict={'lw': 2, 'c': 'k', 'ls': 'solid'}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, Colis=True, draw=True, a4=True, Test=True, ind=None, Val=None, Crit='Name', PreExp=None, PostExp=None, Log='any', InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.plot_Etend_AlongLOS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.plot_Etend_AlongLOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the etendue of the selected LOS along it, with or without collision detection</p>
<p>The number of points along the LOS where the etendue is computed can be specified via arguments, as well as the numerical integration method.
See <code class="xref py py-meth docutils literal"><span class="pre">plot_Etendue_AlongLOS()</span></code> for details
Arguments Length, NP, Modes, RelErr, dX12, dX12Mode, Ratio, Colis, LOSRef are fed to <a class="reference internal" href="#tofu.geom.Detect.calc_Etendue_AlongLOS" title="tofu.geom.Detect.calc_Etendue_AlongLOS"><code class="xref py py-meth docutils literal"><span class="pre">calc_Etendue_AlongLOS()</span></code></a>
Arguments ind, Val, Crit, PreExp, PostExp, Log and InOut are fed to <a class="reference internal" href="#tofu.geom.GDetect.select" title="tofu.geom.GDetect.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; Axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>NP</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points along the LOS at which the Etendue should be computed</li>
<li><strong>kMode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the distance on the line should be plotted as abolute distance (&#8216;abs&#8217;) or relative to the total length (&#8216;rel&#8217;)</li>
<li><strong>Modes</strong> (<em>str or list</em>) &#8211; Flag or list of flags indicating which integration method should be used</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
<li><strong>LOSRef</strong> (<em>None or str</em>) &#8211; Flag indicating which LOS should be used</li>
<li><strong>Ldict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for plotting the result</li>
<li><strong>LegDict</strong> (<em>None / dict</em>) &#8211; If None, no legend is plotted, else LegDict is fed to :meth:&#8217;~matplotlib.pyplot.Axes.legend&#8217;</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the created figure should have a4 dimensions (useful for printing)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.plot_Etendues">
<code class="descname">plot_Etendues</code><span class="sig-paren">(</span><em>Mode='Etend'</em>, <em>Elt=''</em>, <em>ax=None</em>, <em>Adict={'marker': '+'</em>, <em>'lw': 2</em>, <em>'c': 'k'</em>, <em>'ls': 'None'}</em>, <em>Rdict={'marker': 'x'</em>, <em>'lw': 2</em>, <em>'c': 'b'</em>, <em>'ls': 'None'}</em>, <em>Edict={'marker': 'o'</em>, <em>'lw': 2</em>, <em>'c': 'g'</em>, <em>'ls': 'None'}</em>, <em>LegDict={'loc': 2</em>, <em>'bbox_to_anchor': (1.01</em>, <em>1)</em>, <em>'prop': {'size': 10}</em>, <em>'ncol': 1</em>, <em>'borderaxespad': 0.0</em>, <em>'frameon': False}</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em>, <em>ind=None</em>, <em>Val=None</em>, <em>Crit='Name'</em>, <em>PreExp=None</em>, <em>PostExp=None</em>, <em>Log='any'</em>, <em>InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.plot_Etendues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.plot_Etendues" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the etendues of all or a subset of the <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances for the chosen <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a></p>
<p>A given Detect+Optics system has a VOS, under proper conditions, this VOS can be approximated by a LOS, but the choice of the LOS is not unique, there is an infinite number of possible LOS in a single VOS.
The LOS automatically computed by tofu os the &#8216;natural&#8217; option : goes from the midlle of the Detect area throught the middle of the optics.
Then tofu automatically computes the associated etendue.
This methods plots all the etendues of all the chosen <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances for the chosen <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a>, which is by default the &#8216;natural&#8217; LOS computed by tofu</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flasg indicating whether to plot the etendue (&#8216;Etend&#8217;) or a geometrical calibration factor (&#8216;Calib&#8217;) computed as the 4pi/etendue</li>
<li><strong>Elt</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot, in addition to the etendue, also the direct (&#8216;A&#8217;) and reverse (&#8216;R&#8217;) 0-order approximation of the etendue</li>
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; Axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>Adict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for plotting the direct 0-order approximation of the etendue (if &#8216;A&#8217; in Elt), fed to <code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></li>
<li><strong>Rdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for plotting the reverse 0-order approximation of the etendue (if &#8216;R&#8217; in Elt), fed to <code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></li>
<li><strong>Edict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for plotting the etendue, fed to <code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></li>
<li><strong>LegDict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; If None, no legend is plotted, else LegDict is fed to :meth:&#8217;~matplotlib.pyplot.Axes.legend&#8217;</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the created figure should have a4 dimensions (useful for printing)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.plot_SAngNb">
<code class="descname">plot_SAngNb</code><span class="sig-paren">(</span><em>Lax=None, Proj='Cross', Slice='Int', Pts=None, plotfunc='scatter', DRY=None, DXTheta=None, DZ=None, Elt='P', EltVes='P', EltLOS='', EltOptics='P', Pdict={'lw': 2, 'c': 'k', 'ls': 'solid'}, Vdict={'color': 'r', 'lw': 2, 'ls': 'solid'}, Cdict={'edgecolors': 'k', 'antialiaseds': False, 'linestyles': '-', 'linewidths': 0.0, 'alpha': 0.2, 'facecolors': (0.8, 0.8, 0.8, 0.2)}, LVIn=0.1, LOSdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'EltVes': '', 'Proj': 'All', 'Test': True, 'Elt': 'LDIORP', 'MdictP': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictR': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Leg': '', 'Lplot': 'Tot', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'MdictI': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'Ldict': {'lw': 2, 'c': 'k'}, 'MdictO': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}, 'MdictD': {'c': 'k', 'markersize': 8, 'lw': 2, 'mew': 2, 'ls': 'None', 'marker': 'x'}}, Opticsdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'Pdict': {'lw': 2, 'c': 'k', 'ls': 'solid'}, 'Vdict': {'color': 'r', 'lw': 2, 'ls': 'solid'}, 'EltVes': '', 'Leg': '', 'Lax': None, 'Vesdict': {'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, 'LVIn': 0.1, 'Test': True, 'Elt': 'PV', 'Proj': 'All'}, Vesdict={'draw': True, 'LegDict': {'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, 'BsdictHor': {'c': 'b', 'ls': 'dashed'}, 'Bvdict': {'marker': 'x', 'mew': 2, 'c': 'g', 'markersize': 8, 'ls': 'dashed'}, 'Lim': [1.5707963267948966, 6.283185307179586], 'Test': True, 'Proj': 'All', 'IdictHor': {'c': 'k', 'ls': 'dashed'}, 'Elt': 'PIBsBvV', 'Pdict': None, 'Vdict': {'color': 'r', 'scale': 10}, 'Idict': {'marker': 'x', 'mew': 2, 'c': 'k', 'markersize': 8, 'ls': 'dashed'}, 'Bsdict': {'marker': 'x', 'mew': 2, 'c': 'b', 'markersize': 8, 'ls': 'dashed'}, 'Lax': None, 'BvdictHor': {'c': 'g', 'ls': 'dashed'}, 'Nstep': 50}, CDictSA=None, CDictNb=None, Colis=True, a4=False, draw=True, Test=True, ind=None, Val=None, Crit='Name', PreExp=None, PostExp=None, Log='any', InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.plot_SAngNb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.plot_SAngNb" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the solid angle projections (integrated &#8216;Int&#8217; or maximum &#8216;Max&#8217;) as well as the number of detectors visible from each point in the plasma</p>
<p>See <a class="reference internal" href="#tofu.geom.Detect.plot_SAngNb" title="tofu.geom.Detect.plot_SAngNb"><code class="xref py py-meth docutils literal"><span class="pre">plot_SAngNb()</span></code></a> for details
Arguments ind, Val, Crit, PreExp, PostExp, Log and InOut are fed to <a class="reference internal" href="#tofu.geom.GDetect.select" title="tofu.geom.GDetect.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Lax</strong> (<em>None or list or plt.Axes</em>) &#8211; Axes or list of Axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>Proj</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether to plot the cross-section (&#8216;Cross&#8217;) or the horizontal projection (&#8216;Hor&#8217;)</li>
<li><strong>Mode</strong> (<em>str, None or float</em>) &#8211; <dl class="docutils">
<dt>Flag indicating whether to plot:</dt>
<dd><ul class="first last">
<li>&#8216;Int&#8217;: the integrated value along the projected coordinates</li>
<li>&#8216;Max&#8217;: the maximum value along the projected coordinates</li>
<li>float: the projected coordinate at which to plot the slice (Theta or X if Proj=&#8217;Cross&#8217;, Z if Proj=&#8217;Hor&#8217;)</li>
<li>None: the slice is done in the middle of the viewing volume</li>
</ul>
</dd>
</dl>
</li>
<li><strong>plotfunc</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which plotting method to use (&#8216;scatter&#8217;, &#8216;contour&#8217;, &#8216;contourf&#8217; or &#8216;imshow&#8217;)</li>
<li><strong>DCross</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution along the 1st cross-section coordinate (R for Type=&#8217;Tor&#8217;, Y for Type=&#8217;Lin&#8217;)</li>
<li><strong>DXTheta</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Resolution along the ignorable coordinate (Theta for Type=&#8217;Tor&#8217;, X for Type=&#8217;Lin&#8217;)</li>
<li><strong>DZ</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Vertical resolution (for both Types)</li>
<li><strong>CDictSA</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Properties of the solid angle plot, to be fed to the function chosen by plotfunc</li>
<li><strong>CDictNb</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Properties of the Nb plot, to be fed to ...</li>
<li><strong>Colis</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether collision detection should be used</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to use a4 dimensions to create a new figure if Lax=None</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>Lax         plt.Axes or list            List of the axes used for plotting</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.plot_Sig">
<code class="descname">plot_Sig</code><span class="sig-paren">(</span><em>ffSig, extargs={}, Method='Vol', Mode='simps', ax=None, Leg='', Sdict={'marker': '+', 'lw': 2, 'c': 'k', 'ls': 'solid'}, LegDict={'loc': 2, 'bbox_to_anchor': (1.01, 1), 'prop': {'size': 10}, 'ncol': 1, 'borderaxespad': 0.0, 'frameon': False}, draw=True, a4=False, Test=True, PreComp=True, epsrel=0.0001, dX12=[0.005, 0.005], dX12Mode='abs', ds=0.005, dsMode='abs', MarginS=0.001, Colis=True, ind=None, Val=None, Crit='Name', PreExp=None, PostExp=None, Log='any', InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.plot_Sig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.plot_Sig" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the ignal computed for each or a subset of the <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances</p>
<p>If the signal is not directly provided as an array, it is computed from a function.
If ffSig is a callable function, arguments ffSig, extargs, Method, Mode, PreComp, epsrel, dX12, dX12Mode, ds, dsMode, MarginS, Colis and Test are fed to <a class="reference internal" href="#tofu.geom.GDetect.calc_Sig" title="tofu.geom.GDetect.calc_Sig"><code class="xref py py-meth docutils literal"><span class="pre">calc_Sig()</span></code></a>
Arguments ind, Val, Crit, PreExp, PostExp, Log and InOut are fed to <a class="reference internal" href="#tofu.geom.GDetect.select" title="tofu.geom.GDetect.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>np.ndarray or callable</strong> (<em>ffSig</em>) &#8211; Either a np.ndarray containing the signal to be plotted (of shape (ND,) or (N,ND) where ND is the number of detectors to be plotted) or a callable to be fed to for computing the signal</li>
<li><strong>ax</strong> (<em>None or plt.Axes</em>) &#8211; Axes to be used for plotting, if None a new figure and appropriate axes are created</li>
<li><strong>Sdict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; Dictionary of properties for plotting the signal, fed to <code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></li>
<li><strong>Leg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Label to be used for the plot</li>
<li><strong>LegDict</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; If None, no legend is plotted, else LegDict is fed to :meth:&#8217;~matplotlib.pyplot.Axes.legend&#8217;</li>
<li><strong>draw</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether to draw the figure</li>
<li><strong>a4</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the created figure should have a4 dimensions (useful for printing)</li>
<li><strong>Test</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the inputs should be tested for conformity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> (<em>plt.Axes</em>) &#8211; The axes used for plotting</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.plot_Sinogram">
<code class="descname">plot_Sinogram</code><span class="sig-paren">(</span><em>ax=None</em>, <em>Proj='Cross'</em>, <em>Elt='DLV'</em>, <em>Ang='theta'</em>, <em>AngUnit='rad'</em>, <em>Sketch=True</em>, <em>Ddict={'lw': 1</em>, <em>'c': 'k'</em>, <em>'ls': 'solid'}</em>, <em>Ldict={'c': 'k'</em>, <em>'markersize': 8</em>, <em>'lw': 2</em>, <em>'mew': 2</em>, <em>'ls': 'None'</em>, <em>'marker': 'x'}</em>, <em>Vdict={'edgecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)</em>, <em>'linewidth': 1</em>, <em>'linestyle': 'solid'</em>, <em>'facecolor': (0.8</em>, <em>0.8</em>, <em>0.8</em>, <em>1.0)}</em>, <em>LegDict={'loc': 2</em>, <em>'bbox_to_anchor': (1.01</em>, <em>1)</em>, <em>'prop': {'size': 10}</em>, <em>'ncol': 1</em>, <em>'borderaxespad': 0.0</em>, <em>'frameon': False}</em>, <em>LOSRef=None</em>, <em>draw=True</em>, <em>a4=False</em>, <em>Test=True</em>, <em>ind=None</em>, <em>Val=None</em>, <em>Crit='Name'</em>, <em>PreExp=None</em>, <em>PostExp=None</em>, <em>Log='any'</em>, <em>InOut='In'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.plot_Sinogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.plot_Sinogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the VOS of all or of a subset of the <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances in projection space, optionally also the associated <a class="reference internal" href="#tofu.geom.Ves" title="tofu.geom.Ves"><code class="xref py py-class docutils literal"><span class="pre">Ves</span></code></a> object and reference <a class="reference internal" href="#tofu.geom.LOS" title="tofu.geom.LOS"><code class="xref py py-class docutils literal"><span class="pre">LOS</span></code></a></p>
<p>See <a class="reference internal" href="#tofu.geom.Detect.plot_Sinogram" title="tofu.geom.Detect.plot_Sinogram"><code class="xref py py-meth docutils literal"><span class="pre">plot_Sinogram()</span></code></a> for details
Arguments ind, Val, Crit, PreExp, PostExp, Log and InOut are fed to <a class="reference internal" href="#tofu.geom.GDetect.select" title="tofu.geom.GDetect.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>SaveName=None</em>, <em>Path=None</em>, <em>Mode='npz'</em>, <em>compressed=False</em>, <em>SynthDiag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object in folder Name, under file name SaveName, using specified mode</p>
<p>Most tofu objects can be saved automatically as numpy arrays (.npz, recommended) at the default location (recommended) by simply calling self.save()
In the case of Detect and GDetect instances, there is an additional keyword argument &#8216;SynthDiag&#8217; which allows to <strong>not</strong> save the pre-computed 3D mesh of the VOS for synthetic diagnostic.
Indeed, this pre-computed data is often large and results in big files. Not saving it results in significantly smaller files, and it can be re-computed when loading the instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>SaveName</strong> (<em>None / str</em>) &#8211; The name to be used for the saved file, if None (recommended) uses self.Id.SaveName</li>
<li><strong>Path</strong> (<em>None / str</em>) &#8211; Path specifying where to save the file, if None (recommended) uses self.Id.SavePath</li>
<li><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag specifying whether to save the object as a numpy array file (&#8216;.npz&#8217;, recommended) or an object using cPickle (not recommended, heavier and may cause retro-compatibility issues)</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag, used when Mode=&#8217;npz&#8217;, indicating whether to use np.savez or np.savez_compressed (slower saving and loading but smaller files)</li>
<li><strong>SynthDiag</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Flag indicating whether the pre-computed mesh for synthetic diagnostics calculations shall be saved too (can be heavy, if False, it will be re-computed when opening the saved object)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>Val=None</em>, <em>Crit='Name'</em>, <em>PreExp=None</em>, <em>PostExp=None</em>, <em>Log='any'</em>, <em>InOut='In'</em>, <em>Out=&lt;type 'bool'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices or instances of all instances matching the specified criterion.</p>
<p>The selection can be done according to 2 different mechanism (1) and (2).</p>
<p>For mechanism (1): the user provides the value (Val) that the specified criterion (Crit) should take for a <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">tofu.geom.Detect</span></code></a> to be selected.
The criteria are typically attributes of the self.Id attribute (i.e.: name of the instance, or user-defined attributes like the camera head...)</p>
<p>For mechanism (2), used if Val=None: the user provides a str expression (or a list of such) to be fed to eval(), used to check on quantitative criteria, placed before the criterion value (e.g.: &#8216;not &#8216; or &#8216;&lt;=&#8217;).
Another str or list of str expressions can be provided that will be placed after the criterion value.</p>
<p>Other parameters are used to specify logical operators for the selection (match any or all the criterion...) and the type of output.
See <a class="reference internal" href="#tofu.geom.GLOS.select" title="tofu.geom.GLOS.select"><code class="xref py py-meth docutils literal"><span class="pre">select()</span></code></a> for examples</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Crit</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating which criterion to use for discrimination
Can be set to any attribute of the tofu.pathfile.ID class (e.g.: &#8216;Name&#8217;,&#8217;SaveName&#8217;,&#8217;SavePath&#8217;...) or any key of ID.USRdict (e.g.: &#8216;Exp&#8217;...)</li>
<li><strong>Val</strong> (<em>list, str or None</em>) &#8211; The value to match for the chosen criterion, can be a list of different values
Used for selection mechanism (1)</li>
<li><strong>PreExp</strong> (<em>list, str or None</em>) &#8211; A str of list of str expressions to be fed to eval(), used to check on quantitative criteria, placed before the criterion value (e.g.: &#8216;not &#8216;)
Used for selection mechanism (2)</li>
<li><strong>PostExp</strong> (<em>list, str or None</em>) &#8211; A str of list of str expressions to be fed to eval(), used to check on quantitative criteria, placed after the criterion value (e.g.: &#8216;&gt;=5.&#8217;)
Used for selection mechanism (2)</li>
<li><strong>Log</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the criterion shall match all provided values or one of them (&#8216;any&#8217; or &#8216;all&#8217;)</li>
<li><strong>InOut</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Flag indicating whether the returned indices are the ones matching the criterion (&#8216;In&#8217;) or the ones not matching it (&#8216;Out&#8217;)</li>
<li><strong>Out</strong> (<em>type / str</em>) &#8211; Flag indicating in which form shall the result be returned, as an array of integer indices (int), an array of booleans (bool), a list of names (&#8216;Names&#8217;) or a list of instances (&#8216;Detect&#8217;)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ind</strong> (<em>list / np.ndarray</em>) &#8211; The computed output (array of index, list of names or instances depending on parameter &#8216;Out&#8217;)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tofu.geom.GDetect.set_SigPrecomp">
<code class="descname">set_SigPrecomp</code><span class="sig-paren">(</span><em>CalcPreComp=True, dX12=[0.005, 0.005], dX12Mode='abs', ds=0.005, dsMode='abs', MarginS=0.001, Colis=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/geom/_core.html#GDetect.set_SigPrecomp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.geom.GDetect.set_SigPrecomp" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <a class="reference internal" href="#tofu.geom.Detect.set_SigPrecomp" title="tofu.geom.Detect.set_SigPrecomp"><code class="xref py py-meth docutils literal"><span class="pre">set_SigPrecomp()</span></code></a> to all <a class="reference internal" href="#tofu.geom.Detect" title="tofu.geom.Detect"><code class="xref py py-class docutils literal"><span class="pre">Detect</span></code></a> instances</p>
</dd></dl>

</dd></dl>

<div class="section" id="indices-and-tables">
<h2>1.1. Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="index.html">Homepage</a></li>
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. <strong>tofu.geom</strong></a><ul>
<li><a class="reference internal" href="#indices-and-tables">1.1. Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview.html"
                        title="previous chapter"><strong>Overview</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Auto_tofu.treat.html"
                        title="next chapter">2. <strong>tofu.treat</strong></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Auto_tofu.geom.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Auto_tofu.treat.html" title="2. tofu.treat"
             >next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tofu v1.1</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Didier VEZINET.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.5.
    </div>
  </body>
</html>