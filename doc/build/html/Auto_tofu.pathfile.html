
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>3. tofu.pathfile &#8212; tofu v1.1</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. tofu.plugins" href="Auto_tofu.plugins.html" />
    <link rel="prev" title="2. tofu.treat" href="Auto_tofu.treat.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Auto_tofu.plugins.html" title="4. tofu.plugins"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Auto_tofu.treat.html" title="2. tofu.treat"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tofu v1.1</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-tofu.pathfile">
<span id="tofu-pathfile"></span><span id="overview"></span><h1>3. <strong>tofu.pathfile</strong><a class="headerlink" href="#module-tofu.pathfile" title="Permalink to this headline">¶</a></h1>
<p>Created on Wed Jul 30 14:37:31 2014</p>
<p>&#64;author: didiervezinet</p>
<dl class="class">
<dt id="tofu.pathfile.ID">
<em class="property">class </em><code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">ID</code><span class="sig-paren">(</span><em class="sig-param">Cls=None, Name=None, Type=None, Deg=None, Exp=None, Diag=None, shot=None, SaveName=None, SavePath='/home/lasofivec/tofu/doc', USRdict={}, LObj=None, fromdict=None, Include=['Mod', 'Cls', 'Type', 'Exp', 'Deg', 'Diag', 'Name', 'shot']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#ID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.ID" title="Permalink to this definition">¶</a></dt>
<dd><p>A class used by all ToFu objects as an attribute</p>
<p>It stores all relevant data for the identification of instances
Stored info can be the name of the instance, the experiment and diagnostics
it belongs to, or other user-defined info
Also provides default names for saving the instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Cls</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Class of the object on which info should be stored:</p></li>
<li><p><strong>Name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the instance (user-defined)
Should be a str without space ‘ ‘ or underscore ‘_’
(automatically removed if present)</p></li>
<li><p><strong>Type</strong> (<em>None / str</em>) – Type of object (i.e.: ‘Tor’ or ‘Lin’ for a <code class="xref py py-class docutils literal notranslate"><span class="pre">Ves</span></code>)</p></li>
<li><p><strong>Deg</strong> (<em>None / int</em>) – Degree of the b-splines constituting the <code class="xref py py-mod docutils literal notranslate"><span class="pre">tofu.mesh</span></code> object</p></li>
<li><p><strong>Exp</strong> (<em>None / str</em>) – Flag specifying the experiment (e.g.: ‘WEST’, ‘AUG’, ‘ITER’, ‘JET’…)</p></li>
<li><p><strong>Diag</strong> (<em>None / str</em>) – Flag indicating the diagnostic (e.g.: ‘SXR’, ‘HXR’, ‘Bolo’…)</p></li>
<li><p><strong>shot</strong> (<em>None / int</em>) – A shot number from which the instance is valid (for tracking changes)</p></li>
<li><p><strong>SaveName</strong> (<em>None / str</em>) – Overrides the default file name for saving (not recommended)</p></li>
<li><p><strong>SavePath</strong> (<em>None / str</em>) – Absolute path where the instance should be saved</p></li>
<li><p><strong>USRdict</strong> (<em>None / dict</em>) – A user-defined dictionary containing information about the instance
All info considered relevant can be passed here
(e.g.: thickness of the diode, date of installation…)</p></li>
<li><p><strong>LObj</strong> (<em>None / dict / list</em>) – <dl class="simple">
<dt>Either:</dt><dd><ul>
<li><p>list: list of other ID instances of objects on which the created object depends (this list will then be sorted by class and formatted into a dictionary storign key attributes)</p></li>
<li><p>dict: a ready-made such dictionary</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="tofu.pathfile.ID.set_LObj">
<code class="sig-name descname">set_LObj</code><span class="sig-paren">(</span><em class="sig-param">LObj=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#ID.set_LObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.ID.set_LObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the LObj attribute, storing objects the instance depends on</p>
<p>For example:
A Detect object depends on a vessel and some apertures
That link between should be stored somewhere (for saving/loading).
LObj does this: it stores the ID (as dict) of all objects depended on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>LObj</strong> (None / dict / <a class="reference internal" href="#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ID</span></code></a> / list of such) – <dl class="simple">
<dt>Provide either:</dt><dd><ul class="simple">
<li><p>A dict (derived from <code class="xref py py-meth docutils literal notranslate"><span class="pre">_todict()</span></code>)</p></li>
<li><p>A <a class="reference internal" href="#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ID</span></code></a> instance</p></li>
<li><p>A list of dict or <a class="reference internal" href="#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ID</span></code></a> instances</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tofu.pathfile.ID.set_Name">
<code class="sig-name descname">set_Name</code><span class="sig-paren">(</span><em class="sig-param">Name, SaveName=None, Include=['Mod', 'Cls', 'Type', 'Exp', 'Deg', 'Diag', 'Name', 'shot'], ForceUpdate=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#ID.set_Name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.ID.set_Name" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the Name of the instance, automatically updating the SaveName</p>
<p>The name should be a str without spaces or underscores (removed)
When the name is changed, if SaveName (i.e. the name used for saving)
was not user-defined, it is automatically updated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the instance, without ‘ ‘ or ‘_’ (automatically removed)</p></li>
<li><p><strong>SaveName</strong> (<em>None / str</em>) – If provided, overrides the default name for saving (not recommended)</p></li>
<li><p><strong>Include</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – Controls how te default SaveName is generated
Each element of the list is a key str indicating whether an element
should be present in the SaveName</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tofu.pathfile.ID.set_SaveName">
<code class="sig-name descname">set_SaveName</code><span class="sig-paren">(</span><em class="sig-param">SaveName=None, Include=['Mod', 'Cls', 'Type', 'Exp', 'Deg', 'Diag', 'Name', 'shot'], ForceUpdate=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#ID.set_SaveName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.ID.set_SaveName" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the name for saving the instance (SaveName)</p>
<dl class="simple">
<dt>SaveName can be either:</dt><dd><ul class="simple">
<li><p>provided by the user (no constraint) - not recommended</p></li>
<li><p>automatically generated from Name and key attributes (cf. Include)</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SaveName</strong> (<em>None / str</em>) – If provided, overrides the default name for saving (not recommended)</p></li>
<li><p><strong>Include</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – Controls how te default SaveName is generated
Each element of the list is a key str indicating whether an element
should be present in the SaveName</p></li>
<li><p><strong>ForceUpdate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <dl class="simple">
<dt>Flag indicating the behaviour when SaveName=None:</dt><dd><ul>
<li><p>True : A new SaveName is generated, overriding the old one</p></li>
<li><p>False : The former SaveName is preserved (default)</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tofu.pathfile.ID.set_USRdict">
<code class="sig-name descname">set_USRdict</code><span class="sig-paren">(</span><em class="sig-param">USRdict={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#ID.set_USRdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.ID.set_USRdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the USRdict, containing user-defined info about the instance</p>
<p>Useful for arbitrary info (e.g.: manufacturing date, material…)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>USRdict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – A user-defined dictionary containing info about the instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.SaveName_Conv">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">SaveName_Conv</code><span class="sig-paren">(</span><em class="sig-param">Mod=None, Cls=None, Type=None, Name=None, Deg=None, Exp=None, Diag=None, shot=None, version=None, usr=None, Include=['Mod', 'Cls', 'Type', 'Exp', 'Deg', 'Diag', 'Name', 'shot']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#SaveName_Conv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.SaveName_Conv" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a default name for saving the object</p>
<p>Includes key info for fast identification of the object from file name
Used on object creation by <a class="reference internal" href="#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ID</span></code></a>
It is recommended to use this default name.</p>
</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.CheckSameObj">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">CheckSameObj</code><span class="sig-paren">(</span><em class="sig-param">obj0</em>, <em class="sig-param">obj1</em>, <em class="sig-param">LFields=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#CheckSameObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.CheckSameObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if two variables are the same instance of a ToFu class</p>
<p>Checks a list of attributes, provided by LField</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj0</strong> (<em>tofu object</em>) – A variable refering to a ToFu object of any class</p></li>
<li><p><strong>obj1</strong> (<em>tofu object</em>) – A variable refering to a ToFu object of the same class as obj0</p></li>
<li><p><strong>LFields</strong> (<em>None / str / list</em>) – <dl class="simple">
<dt>The criteria against which the two objects are evaluated:</dt><dd><ul>
<li><p>None: True is returned</p></li>
<li><p>str or list: tests whether all listed attributes have the same value</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>A</strong> (<em>bool</em>) – True only is LField is None or a list of attributes that all match</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.SelectFromListId">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">SelectFromListId</code><span class="sig-paren">(</span><em class="sig-param">LId</em>, <em class="sig-param">Val=None</em>, <em class="sig-param">Crit='Name'</em>, <em class="sig-param">PreExp=None</em>, <em class="sig-param">PostExp=None</em>, <em class="sig-param">Log='any'</em>, <em class="sig-param">InOut='In'</em>, <em class="sig-param">Out=&lt;class 'bool'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#SelectFromListId"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.SelectFromListId" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices or instances of all LOS matching criteria</p>
<p>The selection can be done according to 2 different mechanisms</p>
<p>Mechanism (1): provide the value (Val) a criterion (Crit) should match
The criteria are typically attributes of <a class="reference internal" href="#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ID</span></code></a>
(i.e.: name, or user-defined attributes like the camera head…)</p>
<p>Mechanism (2): (used if Val=None)
Provide a str expression (or a list of such) to be fed to eval()
Used to check on quantitative criteria.</p>
<blockquote>
<div><ul class="simple">
<li><p>PreExp: placed before the criterion value (e.g.: ‘not ‘ or ‘&lt;=’)</p></li>
<li><p>PostExp: placed after the criterion value</p></li>
<li><p>you can use both</p></li>
</ul>
</div></blockquote>
<p>Other parameters are used to specify logical operators for the selection
(match any or all the criterion…) and the type of output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Crit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>Flag indicating which criterion to use for discrimination
Can be set to:</p>
<blockquote>
<div><ul>
<li><p>any attribute of <a class="reference internal" href="#tofu.pathfile.ID" title="tofu.pathfile.ID"><code class="xref py py-class docutils literal notranslate"><span class="pre">ID</span></code></a>
(e.g.: ‘Name’,’SaveName’,’SavePath’…)</p></li>
<li><p>any key of ID.USRdict (e.g.: ‘Exp’…)</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>Val</strong> (<em>None / list / str</em>) – The value to match for the chosen criterion, can be a list
Used for selection mechanism (1)</p></li>
<li><p><strong>PreExp</strong> (<em>None / list / str</em>) – A str (or list of such) expression to be fed to eval(),
Placed before the criterion value
Used for selection mechanism (2)</p></li>
<li><p><strong>PostExp</strong> (<em>None / list / str</em>) – A str (or list of such) expression to be fed to eval()
Placed after the criterion value
Used for selection mechanism (2)</p></li>
<li><p><strong>Log</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <dl class="simple">
<dt>Flag indicating whether the criterion shall match:</dt><dd><ul>
<li><p>’all’: all provided values</p></li>
<li><p>’any’: at least one of them</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>InOut</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <dl class="simple">
<dt>Flag indicating whether the returned indices are:</dt><dd><ul>
<li><p>’In’: the ones matching the criterion</p></li>
<li><p>’Out’: the ones not matching it</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>Out</strong> (<em>type / str</em>) – <dl class="simple">
<dt>Flag indicating in which form to return the result:</dt><dd><ul>
<li><p>int: as an array of integer indices</p></li>
<li><p>bool: as an array of boolean indices</p></li>
<li><p>’Name’: as a list of names</p></li>
<li><p>’LOS’: as a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">LOS</span></code> instances</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ind</strong> (<em>list / np.ndarray</em>) – The computed output, of nature defined by parameter Out</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.convert_units">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">convert_units</code><span class="sig-paren">(</span><em class="sig-param">P</em>, <em class="sig-param">In='cm'</em>, <em class="sig-param">Out='m'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#convert_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.convert_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly convert distance units between meters, centimeters and millimeters</p>
</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.get_PolyFromPolyFileObj">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">get_PolyFromPolyFileObj</code><span class="sig-paren">(</span><em class="sig-param">PolyFileObj</em>, <em class="sig-param">SavePathInp=None</em>, <em class="sig-param">units='m'</em>, <em class="sig-param">comments='#'</em>, <em class="sig-param">skiprows=0</em>, <em class="sig-param">shape0=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#get_PolyFromPolyFileObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.get_PolyFromPolyFileObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a polygon as a np.ndarray, extracted from a txt file or from a ToFu object, with appropriate units</p>
<p>Useful for <code class="xref py py-meth docutils literal notranslate"><span class="pre">tofu.plugins.AUG.Ves._create()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>PolyFileObj</strong> (str / <a class="reference internal" href="Auto_tofu.geom.html#module-tofu.geom" title="tofu.geom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tofu.geom</span></code></a> object / np.ndarray) – <dl class="simple">
<dt>The source where the polygon is to be found, either:</dt><dd><ul>
<li><p>str: the name of a file containing the coorindates of a polygon to be loaded with <code class="xref py py-meth docutils literal notranslate"><span class="pre">numpy.loadtxt()</span></code></p></li>
<li><p>A <a class="reference internal" href="Auto_tofu.geom.html#module-tofu.geom" title="tofu.geom"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tofu.geom</span></code></a> object: with attribute ‘Poly’</p></li>
<li><p>np.ndarray: an 2-dimensional array containing the 2D cartesian coordinates of a polygon</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>SavePathInp</strong> (<em>str / None</em>) – The absolute path where the input file is stored</p></li>
<li><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Flag indicating in which units the polygon coordinates is expressed in the input file / object / array (will be converted to meters)</p></li>
<li><p><strong>comments</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Parameter to be fed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">numpy.loadtxt()</span></code> if PolyFileObj is a file name</p></li>
<li><p><strong>skiprows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Parameter to be fed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">numpy.loadtxt()</span></code> if PolyFileObj is a file name</p></li>
<li><p><strong>shape0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Specifies whether the loaded array is a (2,N) or (3,N) array (transposed it if necessary)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>Poly</strong> (<em>np.ndarray</em>) – (2,N) np.ndarray containing the 2D cartesian coordinates of the polygon, where N is the number of points</p></li>
<li><p><strong>addInfo</strong> (<em>dict</em>) – Dictionaryb containing information on the origin of the polygon, for the record (e.g.: the name and absolute path of the file from which it was extracted)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.Save_Generic">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">Save_Generic</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">SaveName=None</em>, <em class="sig-param">Path='./'</em>, <em class="sig-param">Mode='npz'</em>, <em class="sig-param">compressed=False</em>, <em class="sig-param">Print=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#Save_Generic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.Save_Generic" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a ToFu object under file name SaveName, in folder Path</p>
<p>ToFu provides built-in saving and loading functions for ToFu objects.
There is now only one saving mode:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘npz’: saves a dict of key attributes using <code class="xref py py-meth docutils literal notranslate"><span class="pre">numpy.savez()</span></code></p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Good practices are:</dt><dd><ul class="simple">
<li><p>save <code class="xref py py-class docutils literal notranslate"><span class="pre">Ves</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Struct</span></code></p></li>
<li><p>intermediate optics (<code class="xref py py-class docutils literal notranslate"><span class="pre">Apert</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">Lens</span></code>) generally do not need to be saved
Indeed, they will be autoamtically included in larger objects
like Detect or Cam objects</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SaveName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The file name, if None (recommended) uses obj.Id.SaveName</p></li>
<li><p><strong>Path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path where to save the file</p></li>
<li><p><strong>Mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <dl class="simple">
<dt>Flag specifying the saving mode</dt><dd><ul>
<li><p>’npz’: Only mode currently available (‘pck’ deprecated)</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicate whether to use np.savez_compressed (slower but smaller files)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tofu.pathfile.Open">
<code class="sig-prename descclassname">tofu.pathfile.</code><code class="sig-name descname">Open</code><span class="sig-paren">(</span><em class="sig-param">pathfileext=None</em>, <em class="sig-param">shot=None</em>, <em class="sig-param">t=None</em>, <em class="sig-param">Dt=None</em>, <em class="sig-param">Mesh=None</em>, <em class="sig-param">Deg=None</em>, <em class="sig-param">Deriv=None</em>, <em class="sig-param">Sep=True</em>, <em class="sig-param">Pos=True</em>, <em class="sig-param">OutPath=None</em>, <em class="sig-param">ReplacePath=None</em>, <em class="sig-param">Ves=None</em>, <em class="sig-param">out='full'</em>, <em class="sig-param">Verb=False</em>, <em class="sig-param">Print=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tofu/pathfile.html#Open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tofu.pathfile.Open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a ToFu object saved file</p>
<p>This generic open function identifies the required loading routine by detecting how the object was saved from the file name extension.
Also, it uses <code class="xref py py-meth docutils literal notranslate"><span class="pre">FindSolFile()</span></code> to identify the relevant file in case key criteria such as shot, Deg… are provided instead of the file name itself.
Finally, once all the relevant data is loaded from the file, a ToFu object is re-created, if necessary by implicitly loading all other objects it may depend on (i.e.: vessel, apertures…)</p>
<p>If pathfileext is not provided (None), then the following keyword arguments are fed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">FindSolFile()</span></code>: shot, t, Dt, Mesh, Deg, Deriv, Sep, Pos</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathfileext</strong> (<em>None / str</em>) – If provided, the name of the file to load</p></li>
<li><p><strong>OutPath</strong> (<em>None / str</em>) – If provided, the absolute path where the file is to be found</p></li>
<li><p><strong>ReplacePath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – If provided, ? (to finish)</p></li>
<li><p><strong>Ves</strong> (<em>None /</em>) – If provided, the <code class="xref py py-class docutils literal notranslate"><span class="pre">tofu.geom.Ves</span></code> object that shall be used to reconstruct the object (if not provided, the appropriate vessel will be loaded).</p></li>
<li><p><strong>out</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Flag indicating whether the object should be loaded completely (‘full’), in a light dismissing the heaviest attributes (‘light’) or whether only the Id or a list of Id should be returned (‘Id’), valid only for ‘.npz’</p></li>
<li><p><strong>Verb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Flag indicating whether to pring intermediate comments on the loading procedure</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>obj             ToFu object</em> – The loaded and re-created ToFu object</p>
</dd>
</dl>
</dd></dl>

<div class="section" id="indices-and-tables">
<h2>3.1. Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="index.html">Homepage</a></p></li>
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. <strong>tofu.pathfile</strong></a><ul>
<li><a class="reference internal" href="#indices-and-tables">3.1. Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Auto_tofu.treat.html"
                        title="previous chapter">2. <strong>tofu.treat</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Auto_tofu.plugins.html"
                        title="next chapter">4. <strong>tofu.plugins</strong></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Auto_tofu.pathfile.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Auto_tofu.plugins.html" title="4. tofu.plugins"
             >next</a> |</li>
        <li class="right" >
          <a href="Auto_tofu.treat.html" title="2. tofu.treat"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tofu v1.1</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Didier VEZINET.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>