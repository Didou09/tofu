
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/tutorials/tuto_plot_create_geometry_from_svg.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_tutorials_tuto_plot_create_geometry_from_svg.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_tutorials_tuto_plot_create_geometry_from_svg.py:


Creating a geometry with Inkscape
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This is a tutorial that shows you how to draw a geometry in Inkscape
and load it in tofu.

.. GENERATED FROM PYTHON SOURCE LINES 10-15

To see a tutorial on how to draw a vessel's geometry on Inkscape and save
it to a `svg` file, you can check the video below. Basically, you just need
to use straight *Bezier curves* to draw the closed polygons that will define
the vessel and optionally the structures. To define a PFC structure, just
add a fill color.

.. GENERATED FROM PYTHON SOURCE LINES 19-29

.. raw:: html

   <div class="text-center">
   <iframe width="560" height="315"
   src="https://www.youtube.com/embed/BoZh2U7I8-g"
   title="YouTube video player"
   frameborder="0" allow="accelerometer; autoplay; clipboard-write;
   encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
   </iframe>
   </div>

.. GENERATED FROM PYTHON SOURCE LINES 31-33

Now, on how to load it and use it in tofu (also shown in the video). We start
by importing `tofu`.

.. GENERATED FROM PYTHON SOURCE LINES 33-36

.. code-block:: default


    import tofu as tf








.. GENERATED FROM PYTHON SOURCE LINES 37-40

`tofu` provides a geometry helper function that allows creating a
configuration from a `svg` file. Supposing you saved it in a file named
`"myfirstgeom.svg"`, do

.. GENERATED FROM PYTHON SOURCE LINES 40-42

.. code-block:: default

    config = tf.geom.Config.from_svg("myfirstgeom.svg", Name="Test", Exp="Test")





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    The following structures were loaded:
            - Ves: vessel (9 pts, None)
            - PFC: struct1 (5 pts, #000080)
            - PFC: struct2 (5 pts, #d40000)
    from /home/lasofivec/repositories/forked_tofu/tofu/examples/tutorials/myfirstgeom.svg
    /home/lasofivec/repositories/forked_tofu/tofu/tofu/geom/_core.py:481: UserWarning: Struct instance: double identical points in Poly
      => 1 points removed
      => Poly goes from 9 to 8 points
      warnings.warn(msg)
    /home/lasofivec/repositories/forked_tofu/tofu/tofu/geom/_core.py:481: UserWarning: PFC instance: double identical points in Poly
      => 1 points removed
      => Poly goes from 5 to 4 points
      warnings.warn(msg)




.. GENERATED FROM PYTHON SOURCE LINES 43-45

It already gives you some information on what you loaded, but to see what it
actually contains:

.. GENERATED FROM PYTHON SOURCE LINES 45-47

.. code-block:: default

    print(config)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    tot. Struct  tot. occur  tot. points
    -----------  ----------  -----------
    3            3           15         

    class  Name     SaveName                                                         nP  noccur  move  color                     visible
    -----  -------  ---------------------------------------------------------------  --  ------  ----  ------------------------  -------
    Ves    vessel   TFG_Ves_ExpTest_vessel_sh00000_Vers1.4.10-alpha9-335-g1e388929   7   0       None  ( 0.0,  0.0,  0.0,  1.0)  True   
    PFC    struct1  TFG_PFC_ExpTest_struct1_sh00000_Vers1.4.10-alpha9-335-g1e388929  4   0       None  ( 0.0,  0.0,  0.5,  1.0)  True   
    PFC    struct2  TFG_PFC_ExpTest_struct2_sh00000_Vers1.4.10-alpha9-335-g1e388929  4   0       None  (0.83,  0.0,  0.0,  1.0)  True   




.. GENERATED FROM PYTHON SOURCE LINES 48-49

To plot it, simply do

.. GENERATED FROM PYTHON SOURCE LINES 49-51

.. code-block:: default

    config.plot()




.. image:: /auto_examples/tutorials/images/sphx_glr_tuto_plot_create_geometry_from_svg_001.png
    :alt: Test
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    [<matplotlib.axes._axes.Axes object at 0x7f5d4b082ca0>, <matplotlib.axes._axes.Axes object at 0x7f5d4a1a5280>]



.. GENERATED FROM PYTHON SOURCE LINES 52-55

We can see that the z- and r-axis might not be exactly what we wanted. We
might also want to adjust the scale. Tofu let's fix those parameters
when loading the configuration.

.. GENERATED FROM PYTHON SOURCE LINES 55-58

.. code-block:: default

    config = tf.geom.Config.from_svg("myfirstgeom.svg", Name="Test", Exp="Test",
                                     z0=-140, r0=100, scale=0.5)
    config.plot()



.. image:: /auto_examples/tutorials/images/sphx_glr_tuto_plot_create_geometry_from_svg_002.png
    :alt: Test
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    The following structures were loaded:
            - Ves: vessel (9 pts, None)
            - PFC: struct1 (5 pts, #000080)
            - PFC: struct2 (5 pts, #d40000)
    from /home/lasofivec/repositories/forked_tofu/tofu/examples/tutorials/myfirstgeom.svg
    /home/lasofivec/repositories/forked_tofu/tofu/tofu/geom/_core.py:481: UserWarning: Struct instance: double identical points in Poly
      => 1 points removed
      => Poly goes from 9 to 8 points
      warnings.warn(msg)
    /home/lasofivec/repositories/forked_tofu/tofu/tofu/geom/_core.py:481: UserWarning: PFC instance: double identical points in Poly
      => 1 points removed
      => Poly goes from 5 to 4 points
      warnings.warn(msg)
    /home/lasofivec/repositories/forked_tofu/tofu/tofu/geom/_core.py:3914: UserWarning: 
    The following Struct could not be created:

            - vessel: Pb. with volume computation for Struct of type 'Tor' !
            - Vol = -7465.119154362532
            - Poly = [[-39.178111  -39.162381  -21.5689255  14.37901    35.529935   29.861935
       -6.891873  -39.1781135]
     [ 26.2711185 -22.3263    -39.084295  -41.2708    -20.78551    48.158007
       43.09464    26.2711185]]

      => Probably corrupted polygon
      => Please check polygon is not self-intersecting

            - struct1: Pb. with volume computation for Struct of type 'Tor' !
            - Vol = -1994.799256701673
            - Poly = [[-33.3293055 -18.2357725 -11.3084475 -13.9601335 -33.3293055]
     [-17.278755  -30.65121   -30.305155  -24.229275  -17.278755 ]]

      => Probably corrupted polygon
      => Please check polygon is not self-intersecting
      warnings.warn(msg)

    [<matplotlib.axes._axes.Axes object at 0x7f5d49541700>, <matplotlib.axes._axes.Axes object at 0x7f5d495f0610>]




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.390 seconds)


.. _sphx_glr_download_auto_examples_tutorials_tuto_plot_create_geometry_from_svg.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: tuto_plot_create_geometry_from_svg.py <tuto_plot_create_geometry_from_svg.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: tuto_plot_create_geometry_from_svg.ipynb <tuto_plot_create_geometry_from_svg.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
